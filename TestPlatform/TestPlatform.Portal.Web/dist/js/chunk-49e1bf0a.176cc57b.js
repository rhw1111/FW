(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49e1bf0a"],{"43bd":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Directory"}},[a("div",{staticClass:"detail_header row"},[a("div",{staticClass:"col-7"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isRootFolderFlag,expression:"!isRootFolderFlag"}],staticClass:"btn",attrs:{color:"primary",label:"上一级"},on:{click:e.prevLevel}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"重命名"},on:{click:e.ModifyFolderName}}),a("q-btn",{staticClass:"btn",attrs:{color:"red",label:"删除"},on:{click:e.DeleteFolder}}),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isRootFolderFlag,expression:"!isRootFolderFlag"}],staticClass:"btn",attrs:{color:"primary",label:"移动文件"},on:{click:e.ChangeFileDirectory}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"新建文件夹"},on:{click:e.newFolderCreate}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"新建测试用例"},on:{click:function(t){e.createTestCaseFixed=!0}}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"新建测试数据源"},on:{click:function(t){e.createDataSourceFixed=!0}}})],1),a("div",{staticClass:"col-5 row"},[a("q-input",{staticClass:"col-5",attrs:{outlined:"",placeholder:"请输入文件名称",type:"search",dense:!0},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("q-select",{staticClass:"col-3",staticStyle:{margin:"0 10px"},attrs:{options:["文件夹","测试用例","测试数据源"],label:"类型",outlined:"",dense:!0},model:{value:e.FileType,callback:function(t){e.FileType=t},expression:"FileType"}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"搜索"}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"取消搜索"},on:{click:function(t){e.searchText="",e.FileType=""}}})],1)]),a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"Rootfolder row"},e._l(e.FolderList,(function(t,o){return a("div",{key:o,staticClass:"Rootfolder_list",attrs:{tag:"label"},on:{dblclick:function(a){return e.toNextLevel(t,o)}}},[0==t.Type?a("q-checkbox",{staticClass:"checkbox",attrs:{val:t,dense:!0,label:""},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}}):e._e(),a("span",{directives:[{name:"show",rawName:"v-show",value:0==t.Type,expression:"value.Type==0"}],staticClass:"svg-container"},[a("svg",{staticClass:"icon iconfolder",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-wenjianjia1"}})])]),a("span",{directives:[{name:"show",rawName:"v-show",value:1==t.Type,expression:"value.Type==1"}],staticClass:"svg-container"},[a("svg",{staticClass:"icon iconfolder",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-lizi"}})])]),a("span",{directives:[{name:"show",rawName:"v-show",value:2==t.Type,expression:"value.Type==2"}],staticClass:"svg-container"},[a("svg",{staticClass:"icon iconfolder",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-shujuyuan"}})])]),a("p",[e._v(e._s(t.Name))])],1)})),0)]),a("q-dialog",{attrs:{persistent:""},model:{value:e.ChangeFileDirectoryFlag,callback:function(t){e.ChangeFileDirectoryFlag=t},expression:"ChangeFileDirectoryFlag"}},[a("q-card",{staticStyle:{width:"100%"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("选择文件目录")])]),a("q-separator"),a("TreeEntity"),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:function(t){e.ChangeFileDirectoryFlag=!1}}}),a("q-btn",{attrs:{flat:"",label:"确定",color:"primary"},on:{click:function(t){e.ChangeFileDirectoryFlag=!1}}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.createTestCaseFixed,callback:function(t){e.createTestCaseFixed=t},expression:"createTestCaseFixed"}},[a("q-card",{staticStyle:{width:"100%","max-width":"70vw"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("创建测试用例")])]),a("q-separator"),a("CreateShowTestCase",{ref:"CSTestCase",attrs:{dataSourceName:e.dataSourceName}}),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:e.newCancel}}),a("q-btn",{attrs:{flat:"",label:"创建",color:"primary"},on:{click:e.newCreate}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.createDataSourceFixed,callback:function(t){e.createDataSourceFixed=t},expression:"createDataSourceFixed"}},[a("q-card",{staticStyle:{width:"100%","max-width":"70vw"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("创建测试数据源")])]),a("q-separator"),a("div",{staticClass:"new_input"},[a("div",{staticClass:"row input_row"},[a("q-input",{staticClass:"col",attrs:{dense:!1},scopedSlots:e._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[e._v("名称:")])]},proxy:!0}]),model:{value:e.DataSourceName,callback:function(t){e.DataSourceName=t},expression:"DataSourceName"}}),a("q-select",{staticClass:"col",attrs:{options:["String","Int","Json","Label"],dense:!1},scopedSlots:e._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[e._v("类型:")])]},proxy:!0},{key:"prepend",fn:function(){},proxy:!0}]),model:{value:e.DataSourceType,callback:function(t){e.DataSourceType=t},expression:"DataSourceType"}}),a("q-input",{staticClass:"col",attrs:{dense:!1,readonly:"",placeholder:"点击右侧加号选择文件目录"},scopedSlots:e._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[e._v("文件目录:")])]},proxy:!0},{key:"append",fn:function(){return[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:e.ChangeFileDirectory}})]},proxy:!0}]),model:{value:e.DataSourceType,callback:function(t){e.DataSourceType=t},expression:"DataSourceType"}})],1),a("div",{staticClass:"row input_row"},[a("q-input",{staticClass:"col-xs-12",attrs:{dense:!1,type:"textarea","input-style":{height:"400px"},outlined:""},scopedSlots:e._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[e._v("数据:")])]},proxy:!0}]),model:{value:e.DataSourceData,callback:function(t){e.DataSourceData=t},expression:"DataSourceData"}})],1)]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:e.newDataSourceCancel}}),a("q-btn",{attrs:{flat:"",label:"创建",color:"primary"},on:{click:e.newDataSourceCreate}})],1)],1)],1)],1)},s=[],i=(a("a434"),a("365c")),l=a("10b4"),r=a("08d6"),n={name:"Directory",components:{CreateShowTestCase:l["a"],TreeEntity:r["a"]},data:function(){return{FolderList:[],RootFolderList:[{ID:"1",Name:"文件夹1",Type:0,Value:"",ParentID:null},{ID:"2",Name:"文件夹2",Type:0,Value:"",ParentID:null},{ID:"3",Name:"文件夹3",Type:0,Value:"",ParentID:null},{ID:"3a949390-4c40-4735-9ec8-a3e414a37406",Name:"JasonTest12",Type:1,Value:"",ParentID:null},{ID:"f64823a1-3327-4a24-b49f-58a2e96ca400",Name:"JsonTest13",Type:1,Value:"",ParentID:null},{ID:"1039e6cd-d096-11ea-b225-00ffb1d16cf9",Name:"datasource_host",Type:2,Value:"",ParentID:null}],ChildFolderList:[{ID:"001",Name:"子文件夹1",Type:0,Value:"",ParentID:"1"},{ID:"002",Name:"子文件夹2",Type:0,Value:"",ParentID:"1"},{ID:"003",Name:"子文件夹3",Type:0,Value:"",ParentID:"2"}],isRootFolderFlag:!0,selection:[],searchText:"",FileType:"",createFolderFixed:!1,FolderName:"",SelectFolder:"",ChangeFileDirectoryFlag:!1,createTestCaseFixed:!1,dataSourceName:[],createDataSourceFixed:!1,DataSourceName:"",DataSourceType:"",DataSourceData:""}},created:function(){this.prevLevel(),this.getDataSourceName()},methods:{toNextLevel:function(e,t){if(console.log(e,t),0==e.Type){this.FolderList=[],this.isRootFolderFlag=!1;for(var a=0;a<this.ChildFolderList.length;a++)this.ChildFolderList[a].ParentID===e.ID&&this.FolderList.push(this.ChildFolderList[a]);this.SelectFolder=e}else 1==e.Type?this.$router.push({path:"/Directory/TestCase/Detail",query:{id:e.ID}}):2==e.Type&&this.$router.push({path:"/Directory/TestDataSource/Detail",query:{id:e.ID}})},prevLevel:function(){this.FolderList=[],this.isRootFolderFlag=!0;for(var e=0;e<this.RootFolderList.length;e++)this.FolderList.push(this.RootFolderList[e])},DeleteFolder:function(){var e=this;0==this.selection.length?this.$q.notify({position:"top",message:"提示",caption:"请选择文件夹",color:"red"}):this.$q.dialog({title:"提示",message:"您确定要删除当前选择的的文件夹吗",persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(){for(var t=0;t<e.RootFolderList.length;t++)e.RootFolderList[t].ID==e.SelectFolder.ID&&e.RootFolderList.splice(t,1);e.prevLevel()})).onCancel((function(){}))},ChangeFileDirectory:function(){this.ChangeFileDirectoryFlag=!0},newFolderCancel:function(){this.FolderName="",this.createFolderFixed=!1},newFolderCreate:function(){this.$q.dialog({title:"新建文件夹",message:"文件夹名称",prompt:{model:"",type:"text"},persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(e){console.log(e)})).onCancel((function(){}))},ModifyFolderName:function(){console.log(this.selection),0==this.selection.length?this.$q.notify({position:"top",message:"提示",caption:"请选择文件夹",color:"red"}):this.selection.length>1?this.$q.notify({position:"top",message:"提示",caption:"只能选择一个文件夹",color:"red"}):(console.log(this.selection),this.$q.dialog({title:"重命名",message:"文件夹名称",prompt:{model:this.selection[0].Name,type:"text"},persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(e){console.log(e)})))},getDataSourceName:function(){var e=this;this.$q.loading.show();var t={};i["k"](t).then((function(t){console.log(t),e.dataSourceName=t.data,e.$q.loading.hide()}))},newCancel:function(){this.$refs.CSTestCase.newCancel(),this.createTestCaseFixed=!1},newCreate:function(){this.newCancel()},newDataSourceCreate:function(){this.newDataSourceCancel()},newDataSourceCancel:function(){this.DataSourceName="",this.DataSourceType="",this.DataSourceData="",this.createDataSourceFixed=!1}}},c=n,u=(a("f958"),a("2877")),d=Object(u["a"])(c,o,s,!1,null,"4410ab82",null);t["default"]=d.exports},a689:function(e,t,a){},f958:function(e,t,a){"use strict";var o=a("a689"),s=a.n(o);s.a}}]);
//# sourceMappingURL=chunk-49e1bf0a.176cc57b.js.map