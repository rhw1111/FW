(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-543890a1"],{"03f1":function(t,e,n){},"07a0":function(t,e,n){"use strict";var o=n("03f1"),a=n.n(o);a.a},"8fa2":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"MasterHost"},[n("div",{staticClass:"q-pa-md row masterhost"},[n("SSHEndpoint"),n("TestHost")],1)])},a=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-7 col-sm-12 col-xs-12"},[n("q-table",{attrs:{title:"SSH终结点列表",data:t.SSHEndpointList,columns:t.SSHEndpointColumns,selection:"multiple",selected:t.SSHEndpointSelected,"row-key":"id","rows-per-page-options":[0],"table-style":"max-height: 500px","no-data-label":"暂无数据更新"},on:{"update:selected":function(e){t.SSHEndpointSelected=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[n("q-btn",{staticClass:"btn",staticStyle:{"margin-right":"20px"},attrs:{color:"primary",label:"新 增"},on:{click:t.openSSHCreate}}),n("q-btn",{staticClass:"btn",attrs:{color:"red",label:"删 除"},on:{click:t.deleteSSH}})]},proxy:!0},{key:"body-cell-id",fn:function(e){return[n("q-td",{staticClass:"text-left",attrs:{props:e}},[n("q-btn",{staticClass:"btn",staticStyle:{"margin-right":"20px"},attrs:{color:"primary",label:"更 新"},on:{click:function(n){return t.toSSHEndpointDetail(e)}}}),n("q-btn",{staticClass:"btn",attrs:{color:"red",label:"删 除"},on:{click:function(n){return t.delectSelectSSHEndpoint(e)}}})],1)]}},{key:"bottom",fn:function(){return[n("q-pagination",{staticClass:"col offset-md-9",attrs:{max:t.SSHEndpointPagination.rowsNumber,input:!0},on:{input:t.SSHNextPage},model:{value:t.SSHEndpointPagination.page,callback:function(e){t.$set(t.SSHEndpointPagination,"page",e)},expression:"SSHEndpointPagination.page"}})]},proxy:!0}])}),n("q-dialog",{attrs:{persistent:""},model:{value:t.createSSHEndpointFlag,callback:function(e){t.createSSHEndpointFlag=e},expression:"createSSHEndpointFlag"}},[n("q-card",{staticStyle:{width:"100%","max-width":"50vw"}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("创建SSH终结点")])]),n("q-separator"),n("div",{staticClass:"new_input"},[n("div",{staticClass:"row input_row"},[n("q-input",{staticClass:"col",attrs:{dense:!1},scopedSlots:t._u([{key:"before",fn:function(){return[n("span",{staticStyle:{"font-size":"14px"}},[t._v("名称:")])]},proxy:!0}]),model:{value:t.Name,callback:function(e){t.Name=e},expression:"Name"}}),n("q-select",{staticClass:"col",attrs:{options:["Default"],dense:!1},scopedSlots:t._u([{key:"before",fn:function(){return[n("span",{staticStyle:{"font-size":"14px"}},[t._v("类型:")])]},proxy:!0},{key:"prepend",fn:function(){},proxy:!0}]),model:{value:t.Type,callback:function(e){t.Type=e},expression:"Type"}})],1),n("div",{staticClass:"row input_row"},[n("q-input",{staticClass:"col-xs-12",attrs:{dense:!1,"input-style":{height:"400px"},type:"textarea",outlined:""},scopedSlots:t._u([{key:"before",fn:function(){return[n("span",{staticStyle:{"font-size":"14px"}},[t._v("配置:")])]},proxy:!0}]),model:{value:t.Configuration,callback:function(e){t.Configuration=e},expression:"Configuration"}})],1)]),n("q-separator"),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:t.newSSHCancel}}),n("q-btn",{attrs:{flat:"",label:"创建",color:"primary"},on:{click:t.newSSHCreate}})],1)],1)],1),n("q-dialog",{attrs:{persistent:""},model:{value:t.updateSSHEndpointFlag,callback:function(e){t.updateSSHEndpointFlag=e},expression:"updateSSHEndpointFlag"}},[n("q-card",{staticStyle:{width:"100%","max-width":"50vw"}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("更新SSH终结点")])]),n("q-separator"),n("div",{staticClass:"new_input"},[n("div",{staticClass:"row input_row"},[n("q-input",{staticClass:"col",attrs:{dense:!1},scopedSlots:t._u([{key:"before",fn:function(){return[n("span",{staticStyle:{"font-size":"14px"}},[t._v("名称:")])]},proxy:!0}]),model:{value:t.Name,callback:function(e){t.Name=e},expression:"Name"}}),n("q-select",{staticClass:"col",attrs:{options:["Default"],dense:!1},scopedSlots:t._u([{key:"before",fn:function(){return[n("span",{staticStyle:{"font-size":"14px"}},[t._v("类型:")])]},proxy:!0},{key:"prepend",fn:function(){},proxy:!0}]),model:{value:t.Type,callback:function(e){t.Type=e},expression:"Type"}})],1),n("div",{staticClass:"row input_row"},[n("q-input",{staticClass:"col-xs-12",attrs:{dense:!1,"input-style":{height:"400px"},type:"textarea",outlined:""},scopedSlots:t._u([{key:"before",fn:function(){return[n("span",{staticStyle:{"font-size":"14px"}},[t._v("配置:")])]},proxy:!0}]),model:{value:t.Configuration,callback:function(e){t.Configuration=e},expression:"Configuration"}})],1)]),n("q-separator"),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:t.updateSSHCancel}}),n("q-btn",{attrs:{flat:"",label:"更新",color:"primary"},on:{click:t.updateSSHCreate}})],1)],1)],1)],1)},i=[],l=(n("b0c0"),n("365c")),c={data:function(){return{SSHEndpointList:[],SSHEndpointPagination:{page:1,rowsNumber:1},SSHEndpointSelected:[],SSHEndpointColumns:[{name:"name",required:!0,label:"名称",align:"left",field:function(t){return t.name},format:function(t){return"".concat(t)}},{name:"type",align:"left",label:"类型",field:"type"},{name:"configuration",label:"配置",align:"left",field:"configuration",style:"max-width: 250px",headerStyle:"max-width: 250px"},{name:"id",label:"操作",align:"right",field:"id",headerStyle:"text-align:center"}],createSSHEndpointFlag:!1,Name:"",Type:"",Configuration:"",updateSSHEndpointFlag:!1,SSHEndpointDetailId:""}},mounted:function(){this.getSSHEndpointList()},methods:{getSSHEndpointList:function(t){var e=this;this.$q.loading.show();var n={matchName:"",page:t||1,pageSize:50};l["u"](n).then((function(n){console.log(n),e.SSHEndpointList=n.data.results,e.SSHEndpointPagination.page=t||1,e.SSHEndpointPagination.rowsNumber=Math.ceil(n.data.totalCount/50),e.$q.loading.hide()}))},openSSHCreate:function(){this.createSSHEndpointFlag=!0},newSSHCancel:function(){this.Name="",this.Type="",this.Configuration="",this.createSSHEndpointFlag=!1},newSSHCreate:function(){var t=this,e={Name:this.Name,Type:this.Type,Configuration:this.Configuration};this.Name&&this.Type&&this.Configuration?(this.$q.loading.show(),console.log(e),l["I"](e).then((function(e){console.log(e),t.newSSHCancel(),t.getSSHEndpointList(),t.getSSHEndpointData(),t.$q.notify({position:"top",message:"提示",caption:"创建成功",color:"secondary"})}))):this.$q.notify({position:"top",message:"提示",caption:"请填写完整信息",color:"red"})},deleteSSH:function(){var t=this;0!=this.SSHEndpointSelected.length?this.$q.dialog({title:"提示",message:"您确定要删除当前选择的SSH端口吗",persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(){for(var e=t.SSHEndpointSelected.length,n=0,o=0;o<t.SSHEndpointSelected.length;o++){var a="?id=".concat(t.SSHEndpointSelected[o].id);t.$q.loading.show(),l["c"](a).then((function(){n++,n==e&&(t.$q.notify({position:"top",message:"提示",caption:"删除成功",color:"secondary"}),t.SSHEndpointSelected=[],t.getSSHEndpointList())})).catch((function(){n++,n==e&&(t.SSHEndpointSelected=[],t.getSSHEndpointList())}))}})):this.$q.notify({position:"top",message:"提示",caption:"请选择SSH端口",color:"red"})},delectSelectSSHEndpoint:function(t){var e=this;this.$q.dialog({title:"提示",message:"您确定要删除当前选择的SSH端口吗",persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(){var n="?id=".concat(t.row.id);e.$q.loading.show(),l["c"](n).then((function(){e.$q.notify({position:"top",message:"提示",caption:"删除成功",color:"secondary"}),e.SSHEndpointSelected=[],e.getSSHEndpointList()}))}))},SSHNextPage:function(t){this.getSSHEndpointList(t)},toSSHEndpointDetail:function(t){var e=this;this.$q.loading.show();var n={id:t.row.id};this.SSHEndpointDetailId=t.row.id,l["t"](n).then((function(t){console.log(t),e.Name=t.data.name,e.Type=t.data.type,e.Configuration=t.data.configuration,e.$q.loading.hide(),e.updateSSHEndpointFlag=!0}))},updateSSHCancel:function(){this.Name="",this.Type="",this.Configuration="",this.SSHEndpointDetailId="",this.updateSSHEndpointFlag=!1},updateSSHCreate:function(){var t=this,e={ID:this.SSHEndpointDetailId,Name:this.Name,Type:this.Type,Configuration:this.Configuration};""!=this.Name&&""!=this.Type&&""!=this.Configuration?(this.$q.loading.show(),l["U"](e).then((function(){t.$q.notify({position:"top",message:"提示",caption:"更新成功",color:"secondary"}),t.getSSHEndpointList(),t.updateSSHCancel()}))):this.$q.notify({position:"top",message:"提示",caption:"请填写完整信息",color:"red"})}}},r=c,d=n("2877"),p=Object(d["a"])(r,s,i,!1,null,"551e1c98",null),S=p.exports,u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-5 col-sm-12 col-xs-12"},[n("q-table",{attrs:{title:"主机列表",data:t.MasterHostList,columns:t.MasterHostColumns,selection:"multiple",selected:t.MasterHostSelected,"row-key":"id","table-style":"max-height: 500px","virtual-scroll-sticky-start":48,"rows-per-page-options":[0],"no-data-label":"暂无数据更新"},on:{"update:selected":function(e){t.MasterHostSelected=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[n("q-btn",{staticClass:"btn",staticStyle:{"margin-right":"20px"},attrs:{color:"primary",label:"新 增"},on:{click:t.openHostCreate}}),n("q-btn",{staticClass:"btn",attrs:{color:"red",label:"删 除"},on:{click:t.deleteTestHost}})]},proxy:!0},{key:"body-cell-id",fn:function(e){return[n("q-td",{staticClass:"text-left",attrs:{props:e}},[n("q-btn",{staticClass:"btn",staticStyle:{"margin-right":"20px"},attrs:{color:"primary",label:"更 新"},on:{click:function(n){return t.toTestHostDetail(e)}}}),n("q-btn",{staticClass:"btn",attrs:{color:"red",label:"删 除"},on:{click:function(n){return t.delectSelectTestHost(e)}}})],1)]}},{key:"bottom",fn:function(){return[n("q-pagination",{staticClass:"col offset-md-7",attrs:{max:t.MasterHostPagination.rowsNumber,input:!0},on:{input:t.TestHostNextPage},model:{value:t.MasterHostPagination.page,callback:function(e){t.$set(t.MasterHostPagination,"page",e)},expression:"MasterHostPagination.page"}})]},proxy:!0}])}),n("q-dialog",{attrs:{persistent:""},model:{value:t.createTestHostFlag,callback:function(e){t.createTestHostFlag=e},expression:"createTestHostFlag"}},[n("q-card",{staticStyle:{width:"100%"}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("创建主机")])]),n("q-separator"),n("div",{staticClass:"new_input"},[n("div",{staticClass:"row input_row"},[n("q-input",{staticClass:"col",attrs:{dense:!1},scopedSlots:t._u([{key:"before",fn:function(){return[n("span",{staticStyle:{"font-size":"14px"}},[t._v("地址:")])]},proxy:!0}]),model:{value:t.TestHostName,callback:function(e){t.TestHostName=e},expression:"TestHostName"}})],1),n("div",{staticClass:"row input_row"},[n("q-input",{staticClass:"col col-xs-12",attrs:{dense:!1,readonly:"",placeholder:"点击右侧加号选择SSH终结点"},scopedSlots:t._u([{key:"before",fn:function(){return[n("span",{staticStyle:{"font-size":"14px"}},[t._v("SSH终结点:")])]},proxy:!0},{key:"append",fn:function(){return[n("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:t.openSSH}})]},proxy:!0}]),model:{value:t.SSHSelect,callback:function(e){t.SSHSelect=e},expression:"SSHSelect"}})],1)]),n("q-separator"),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:t.newTestHostCancel}}),n("q-btn",{attrs:{flat:"",label:"创建",color:"primary"},on:{click:t.newTestHostConfirm}})],1)],1)],1),n("q-dialog",{attrs:{persistent:""},model:{value:t.updateTestHostFlag,callback:function(e){t.updateTestHostFlag=e},expression:"updateTestHostFlag"}},[n("q-card",{staticStyle:{width:"100%"}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("更新主机")])]),n("q-separator"),n("div",{staticClass:"new_input"},[n("div",{staticClass:"row input_row"},[n("q-input",{staticClass:"col",attrs:{dense:!1},scopedSlots:t._u([{key:"before",fn:function(){return[n("span",{staticStyle:{"font-size":"14px"}},[t._v("地址:")])]},proxy:!0}]),model:{value:t.TestHostName,callback:function(e){t.TestHostName=e},expression:"TestHostName"}})],1),n("div",{staticClass:"row input_row"},[n("q-input",{staticClass:"col col-xs-12",attrs:{dense:!1,readonly:"",placeholder:"点击右侧加号选择SSH终结点"},scopedSlots:t._u([{key:"before",fn:function(){return[n("span",{staticStyle:{"font-size":"14px"}},[t._v("SSH终结点:")])]},proxy:!0},{key:"append",fn:function(){return[n("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:t.openSSH}})]},proxy:!0}]),model:{value:t.SSHSelect,callback:function(e){t.SSHSelect=e},expression:"SSHSelect"}})],1)]),n("q-separator"),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:t.updateTestHostCancel}}),n("q-btn",{attrs:{flat:"",label:"更新",color:"primary"},on:{click:t.updateTestHostConfirm}})],1)],1)],1),n("SSHLookUp",{ref:"SSHLookUp",attrs:{fixed:t.SSHlookUpFlag,SSHEndpointIndex:t.SSHSelectIndex,SSHEndpointList:t.SSHEndpointDataArr},on:{addSSHEndpoint:t.addSSHEndpoint,cancelSSHEndpoint:t.cancelSSHEndpoint}})],1)},f=[],H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-dialog",{attrs:{persistent:""},model:{value:t.fixed,callback:function(e){t.fixed=e},expression:"fixed"}},[n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("SSH端口列表")])]),n("q-separator"),n("div",{staticClass:"new_input"},t._l(t.SSHEndpointList,(function(e,o){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:o,attrs:{tag:"label"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-radio",{attrs:{val:o,color:"teal"},model:{value:t.selectIndex,callback:function(e){t.selectIndex=e},expression:"selectIndex"}})],1),n("q-item-section",[n("q-item-label",[t._v(t._s(e.name))])],1)],1)})),1),n("q-separator"),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:t.cancel}}),n("q-btn",{attrs:{flat:"",label:"添加",color:"primary"},on:{click:t.confirm}})],1)],1)],1)},h=[],g={props:["fixed","SSHEndpointIndex","SSHEndpointList"],name:"lookUp",data:function(){return{selectIndex:-1}},watch:{SSHEndpointIndex:function(t){this.selectIndex=t}},methods:{confirm:function(){this.$emit("addSSHEndpoint",this.selectIndex)},cancel:function(){this.$emit("cancelSSHEndpoint")}}},m=g,y=Object(d["a"])(m,H,h,!1,null,"1842ebc3",null),b=y.exports,x={components:{SSHLookUp:b},data:function(){return{SSHlookUpFlag:!1,SSHSelect:"",SSHSelectId:"",SSHSelectIndex:-1,SSHEndpointDataArr:[],TestHostName:"",createTestHostFlag:!1,MasterHostList:[],MasterHostPagination:{page:1,rowsNumber:1},MasterHostSelected:[],MasterHostColumns:[{name:"address",required:!0,label:"地址",align:"left",field:function(t){return t.address},format:function(t){return"".concat(t)}},{name:"sshEndpointName",label:"SSH终结点",align:"left",field:"sshEndpointName"},{name:"id",label:"操作",align:"right",field:"id",headerStyle:"text-align:center"}],updateTestHostFlag:!1,updateTestHostId:""}},mounted:function(){this.getTestHostList()},methods:{getTestHostList:function(t){var e=this;this.$q.loading.show();var n={matchName:"",page:t||1,pageSize:50};l["D"](n).then((function(n){console.log(n),e.MasterHostList=n.data.results,e.MasterHostPagination.page=t||1,e.MasterHostPagination.rowsNumber=Math.ceil(n.data.totalCount/50),e.getSSHEndpointData()}))},getSSHEndpointData:function(){var t=this;l["s"]({}).then((function(e){t.SSHEndpointDataArr=e.data,t.$q.loading.hide()}))},openHostCreate:function(){this.createTestHostFlag=!0},newTestHostCancel:function(){this.createTestHostFlag=!1,this.TestHostName="",this.SSHSelect="",this.SSHSelectId="",this.SSHSelectIndex=-1},newTestHostConfirm:function(){var t=this;if(this.TestHostName&&this.SSHSelectId){this.$q.loading.show();var e={Address:this.TestHostName,SSHEndpointID:this.SSHSelectId};l["M"](e).then((function(){t.getTestHostList(),t.newTestHostCancel(),t.$q.notify({position:"top",message:"提示",caption:"创建成功",color:"secondary"})}))}else this.$q.notify({position:"top",message:"提示",caption:"请填写完整信息",color:"red"})},openSSH:function(){this.SSHlookUpFlag=!0},addSSHEndpoint:function(t){if(void 0==t)return!1;this.SSHSelect=this.SSHEndpointDataArr[t].name,this.SSHSelectId=this.SSHEndpointDataArr[t].id,this.SSHSelectIndex=t,this.SSHlookUpFlag=!1},cancelSSHEndpoint:function(){this.SSHlookUpFlag=!1,this.$refs.SSHLookUp.selectIndex=this.SSHSelectIndex},deleteTestHost:function(){var t=this;0!=this.MasterHostSelected.length?this.$q.dialog({title:"提示",message:"您确定要删除当前选择的主机吗",persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(){for(var e=t.MasterHostSelected.length,n=0,o=0;o<t.MasterHostSelected.length;o++){var a="?id=".concat(t.MasterHostSelected[o].id);t.$q.loading.show(),l["h"](a).then((function(){n++,console.log(n,e),n==e&&(t.$q.notify({position:"top",message:"提示",caption:"删除成功",color:"secondary"}),t.MasterHostSelected=[],t.getTestHostList())})).catch((function(){n++,n==e&&(t.MasterHostSelected=[],t.getTestHostList())}))}})):this.$q.notify({position:"top",message:"提示",caption:"请选择主机",color:"red"})},delectSelectTestHost:function(t){var e=this;this.$q.dialog({title:"提示",message:"您确定要删除当前选择的主机吗",persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(){e.$q.loading.show();var n="?id=".concat(t.row.id);l["h"](n).then((function(){e.$q.notify({position:"top",message:"提示",caption:"删除成功",color:"secondary"}),e.MasterHostSelected=[],e.getTestHostList()}))}))},TestHostNextPage:function(t){this.getTestHostList(t)},toTestHostDetail:function(t){var e=this;this.$q.loading.show();var n={id:t.row.id};this.updateTestHostId=t.row.id,l["C"](n).then((function(t){console.log(t),e.updateTestHostFlag=!0,e.TestHostName=t.data.address,e.getSSHEndpointUpdateData(t.data.sshEndpointID)}))},getSSHEndpointUpdateData:function(t){var e=this;l["s"]({}).then((function(n){console.log(n),e.SSHEndpointDataArr=n.data;for(var o=0;o<n.data.length;o++)if(n.data[o].id==t){e.SSHSelect=n.data[o].name,e.SSHSelectId=n.data[o].id,e.SSHSelectIndex=o;break}e.$q.loading.hide()}))},updateTestHostCancel:function(){this.SSHEndpointDataArr="",this.updateTestHostId="",this.TestHostName="res.data.address",this.SSHSelect="",this.SSHSelectId="",this.SSHSelectIndex=0,this.updateTestHostFlag=!1},updateTestHostConfirm:function(){var t=this,e={ID:this.updateTestHostId,Address:this.TestHostName,SSHEndpointID:this.SSHSelectId};""!=this.TestHostName&&""!=this.SSHSelectId?(this.$q.loading.show(),l["Y"](e).then((function(){t.$q.notify({position:"top",message:"提示",caption:"更新成功",color:"secondary"}),t.getTestHostList(),t.updateTestHostCancel()}))):this.$q.notify({position:"top",message:"提示",caption:"请填写完整信息",color:"red"})}}},q=x,v=Object(d["a"])(q,u,f,!1,null,"95766eb4",null),C=v.exports,E={name:"MasterHost",components:{TestHost:C,SSHEndpoint:S}},k=E,w=(n("07a0"),n("acce"),Object(d["a"])(k,o,a,!1,null,"1c8e6468",null));e["default"]=w.exports},acce:function(t,e,n){"use strict";var o=n("f530"),a=n.n(o);a.a},f530:function(t,e,n){}}]);
//# sourceMappingURL=chunk-543890a1.c2b261a4.js.map