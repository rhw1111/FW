(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cae805c"],{"0d4d":function(e,t,i){"use strict";var o=i("1ce9"),a=i.n(o);a.a},"1ce9":function(e,t,i){},"2fd3":function(e,t,i){"use strict";var o=i("b013"),a=i.n(o);a.a},"43bd":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"Directory"}},[i("div",{staticClass:"detail_header row detail_fixed"},[i("div",{staticClass:"col-7"},[i("q-btn",{directives:[{name:"show",rawName:"v-show",value:0!=e.RecordDirectorySite.length&&!e.RecordDirectorySite[e.RecordDirectorySite.length-1].SearchRootDirectory,expression:"RecordDirectorySite.length!=0 && !RecordDirectorySite[RecordDirectorySite.length-1].SearchRootDirectory"}],staticClass:"btn",attrs:{color:"primary",label:"上一级"},on:{click:e.toPrevLevel}}),i("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"目录重命名"},on:{click:e.ModifyFolderName}}),i("q-btn",{staticClass:"btn",attrs:{color:"red",label:"删除"},on:{click:e.DeleteFolder}}),i("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"移动目录"},on:{click:e.ChangeFileDirectory}}),i("q-btn",{directives:[{name:"show",rawName:"v-show",value:0==e.RecordDirectorySite.length||!e.RecordDirectorySite[e.RecordDirectorySite.length-1].SearchRootDirectory,expression:"(RecordDirectorySite.length==0 || !RecordDirectorySite[RecordDirectorySite.length-1].SearchRootDirectory)"}],staticClass:"btn",attrs:{color:"primary",label:"新建目录"},on:{click:e.newFolderCreate}}),i("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"新建测试用例"},on:{click:function(t){e.createTestCaseFixed=!0}}}),i("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"新建测试数据源"},on:{click:function(t){e.createDataSourceFixed=!0}}}),i("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"复制"},on:{click:e.openCopyDirector}})],1),i("div",{staticClass:"col-5 row"},[i("div",{staticClass:"col-8 row"},[i("q-input",{staticClass:"col-8",attrs:{outlined:"",placeholder:"请输入文件名称",type:"search",dense:!0},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),i("q-select",{staticClass:"col-3",staticStyle:{"margin-left":"10px"},attrs:{options:["文件夹","测试用例","测试数据源"],label:"类型",outlined:"",dense:!0},model:{value:e.FileType,callback:function(t){e.FileType=t},expression:"FileType"}})],1),i("div",{staticClass:"col-4"},[i("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"搜索"}}),i("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"取消搜索"}})],1)])]),i("div",{staticClass:"folder"},[i("div",{staticClass:"q-pa-md"},[i("div",{staticClass:"Rootfolder"},e._l(e.FolderList,(function(t,o){return i("div",{key:o,staticClass:"Rootfolder_list",attrs:{tag:"label"},on:{dblclick:function(i){return e.toNextLevel(t,!0,1)}}},[i("q-checkbox",{staticClass:"checkbox",attrs:{val:t,dense:!0,label:""},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}}),1==t.type?i("span",{staticClass:"svg-container"},[i("svg",{staticClass:"icon iconfolder",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-wenjianjia2"}})])]):e._e(),2==t.type?i("span",{staticClass:"svg-container"},[i("svg",{staticClass:"icon iconfolder",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon--wenjian"}})])]):e._e(),3==t.type?i("span",{staticClass:"svg-container"},[i("svg",{staticClass:"icon iconfolder",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-shujuyuan"}})])]):e._e(),i("p",[e._v(e._s(t.name))])],1)})),0),i("div",{staticClass:"folderList_page"},[i("el-pagination",{staticStyle:{float:"right","margin-top":"5px","margin-right":"5%"},attrs:{background:"",layout:"prev, pager, next","current-page":e.folderPage.folderPageCurrent,"page-size":100,total:e.folderPage.folderPageTotal},on:{"current-change":e.switchFolderPage}})],1)])]),i("q-dialog",{attrs:{persistent:""},model:{value:e.ChangeFileDirectoryFlag,callback:function(t){e.ChangeFileDirectoryFlag=t},expression:"ChangeFileDirectoryFlag"}},[i("q-card",{staticStyle:{width:"100%"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("选择文件目录")])]),i("q-separator"),i("TreeEntity",{ref:"TreeEntity"}),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:function(t){e.ChangeFileDirectoryFlag=!1}}}),i("q-btn",{attrs:{flat:"",label:"确定",color:"primary"},on:{click:e.SelectDirectoryLocation}})],1)],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.createTestCaseFixed,callback:function(t){e.createTestCaseFixed=t},expression:"createTestCaseFixed"}},[i("q-card",{staticStyle:{width:"100%","max-width":"70vw"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("创建测试用例")])]),i("q-separator"),i("CreateShowTestCase",{ref:"CSTestCase"}),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:e.newCancel}}),i("q-btn",{attrs:{flat:"",label:"创建",color:"primary"},on:{click:e.newCreate}})],1)],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.createDataSourceFixed,callback:function(t){e.createDataSourceFixed=t},expression:"createDataSourceFixed"}},[i("q-card",{staticStyle:{width:"100%","max-width":"70vw"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("创建测试数据源")])]),i("q-separator"),i("CreatePut",{ref:"createDataSource"}),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:e.newDataSourceCancel}}),i("q-btn",{attrs:{flat:"",label:"创建",color:"primary"},on:{click:e.newDataSourceCreate}})],1)],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.LookDataSourceFixed,callback:function(t){e.LookDataSourceFixed=t},expression:"LookDataSourceFixed"}},[i("q-card",{staticStyle:{width:"100%","max-width":"70vw"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("更新测试数据源")])]),i("q-separator"),i("CreatePut",{ref:"putDataSource",attrs:{detailData:e.dataSourceDetail}}),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:e.cancelPutDataSource}}),i("q-btn",{attrs:{flat:"",label:"更新",color:"primary"},on:{click:e.putTestDataSource}})],1)],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.copyDirectorFlag,callback:function(t){e.copyDirectorFlag=t},expression:"copyDirectorFlag"}},[i("q-card",{staticStyle:{width:"100%","max-width":"70vw"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("复制目录/文件")])]),i("q-separator"),i("CopyDirector",{ref:"copyDirector",attrs:{selection:e.selection}}),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:function(t){e.copyDirectorFlag=!1}}}),i("q-btn",{attrs:{flat:"",label:"复制",color:"primary"},on:{click:e.copyDirectorCreate}})],1)],1)],1)],1)},a=[],r=(i("99af"),i("b0c0"),i("498a"),i("365c")),n=i("10b4"),c=i("08d6"),s=i("bed4"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"new_input"},[i("q-dialog",{attrs:{persistent:""},model:{value:e.ChangeFileDirectoryFlag,callback:function(t){e.ChangeFileDirectoryFlag=t},expression:"ChangeFileDirectoryFlag"}},[i("q-card",{staticStyle:{width:"100%"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("选择文件目录")])]),i("q-separator"),i("TreeEntity",{ref:"TreeEntity"}),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:function(t){e.ChangeFileDirectoryFlag=!1}}}),i("q-btn",{attrs:{flat:"",label:"确定",color:"primary"},on:{click:e.SelectDirectoryLocation}})],1)],1)],1),i("div",{staticClass:"row input_row"},[i("q-input",{staticClass:"col",attrs:{dense:!1,readonly:"",placeholder:"点击右侧加号选择文件要复制的目录"},scopedSlots:e._u([{key:"before",fn:function(){return[i("span",{staticStyle:{"font-size":"14px"}},[e._v("文件目录位置:")])]},proxy:!0},{key:"append",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:e.ChangeFileDirectory}})]},proxy:!0}]),model:{value:e.ChangeFileDirectoryName,callback:function(t){e.ChangeFileDirectoryName=t},expression:"ChangeFileDirectoryName"}})],1)],1)},d=[],h=(i("4de4"),i("a434"),{props:["selection"],components:{TreeEntity:c["a"]},data:function(){return{directorName:"",ChangeFileDirectoryFlag:!1,ChangeFileDirectoryName:"",ChangeFileDirectoryId:null,ChangeFileDirectoryValue:"",selectionArr:[],dataStructure:[],FileList:[]}},mounted:function(){this.selectionArr=this.selection},methods:{ChangeFileDirectory:function(){this.ChangeFileDirectoryFlag=!0},SelectDirectoryLocation:function(){this.$refs.TreeEntity.getDirectoryLocation()?(this.ChangeFileDirectoryName=this.$refs.TreeEntity.getDirectoryLocation().label,this.ChangeFileDirectoryId=this.$refs.TreeEntity.getDirectoryLocation().id,this.ChangeFileDirectoryValue=this.$refs.TreeEntity.getDirectoryLocation(),this.ChangeFileDirectoryFlag=!1):this.$q.notify({position:"top",message:"提示",caption:"请选择目录位置",color:"red"})},copyDirectorCreate:function(){this.ChangeFileDirectoryName||this.$q.notify({position:"top",message:"提示",caption:"请选择目录位置",color:"red"}),console.log(this.selectionArr),this.recheckingSelection(this.ChangeFileDirectoryValue)},recheckingSelection:function(e){this.$q.loading.show();for(var t=0;t<this.selectionArr.length;t++)1==this.selectionArr[t].type?this.dataStructure.push({originalNode:this.selectionArr[t],newNode:e}):this.FileList.push(this.selectionArr[t]);console.log(this.dataStructure,this.FileList),this.CreateDataStructureAndFiles(this.dataStructure[0],this.ChangeFileDirectoryValue)},CreateDataStructureAndFiles:function(e,t){console.log("------------开始执行复制操作---------------");var i=this,o=0;function a(){if(o!=i.FileList.length){console.log(i.FileList,o);var c={ID:i.FileList[o].value,ParentID:t.id,Type:2==i.FileList[o].type?"TestCase":"TestDataSource"};r["S"](c).then((function(e){console.log(e),e.data||i.$q.notify({position:"top",message:"提示",caption:"已存在".concat(i.FileList[o].name),color:"red"}),o++,a()}))}else i.FileList=[],e?n():(i.$q.notify({position:"top",message:"提示",caption:"复制完成",color:"secondary"}),console.log("------------复制操作结束---------------"),i.$q.loading.hide())}function n(){var t={Name:e.originalNode.name,FolderID:e.newNode.id};r["T"](t).then((function(t){console.log(t),c(e.originalNode,t.data)}))}function c(e,t){var o={parentId:e.id,matchName:"",page:1,type:null,pageSize:99999};r["F"](o).then((function(e){if(console.log(e),0!=e.data.results.length)for(var o=e.data.results,a=0;a<o.length;a++)1==o[a].type?i.dataStructure.push({originalNode:o[a],newNode:t}):i.FileList.push(o[a]);i.dataStructure.splice(0,1,""),i.dataStructure=i.dataStructure.filter((function(e){return e})),console.log(i.dataStructure,i.FileList),0!=i.dataStructure.length||0!=i.FileList.length?i.CreateDataStructureAndFiles(i.dataStructure[0],t):(i.$q.notify({position:"top",message:"提示",caption:"复制完成",color:"secondary"}),console.log("------------复制操作结束---------------"),i.$q.loading.hide())}))}0!=this.FileList.length?a():n()}}}),g=h,u=(i("2fd3"),i("2877")),p=Object(u["a"])(g,l,d,!1,null,"62521913",null),y=p.exports,f={name:"Directory",components:{CreateShowTestCase:n["a"],TreeEntity:c["a"],CreatePut:s["a"],CopyDirector:y},data:function(){return{FolderList:[],selection:[],RecordDirectorySite:[],folderPage:{folderPageCurrent:null,folderPageTotal:null},isSearchStatus:!1,searchText:"",FileType:null,ChangeFileDirectoryFlag:!1,ChangeFileDirectoryValue:"",createTestCaseFixed:!1,dataSourceDetail:"",createDataSourceFixed:!1,LookDataSourceFixed:!1,copyDirectorFlag:!1}},created:function(){this.getEchoLocation()},methods:{getEchoLocation:function(e){var t=this,i=JSON.parse(sessionStorage.getItem("Page"));if(this.selection=[],this.folderPage.folderPageCurrent=e,console.log(i),null!=i){if(i.searchText||i.FileType)return this.searchText=i.searchText,this.FileType=i.FileType,console.log(i),void this.searchFile(e||i.folderPageCurrent);o()}else o();function o(){if(t.RecordDirectorySite=JSON.parse(sessionStorage.getItem("RecordDirectorySite")),console.log(t.folderPage,i),null==t.RecordDirectorySite&&(t.RecordDirectorySite=[]),0!=t.RecordDirectorySite.length){var o=i?i.folderPageCurrent:1;t.toNextLevel(t.RecordDirectorySite[t.RecordDirectorySite.length-1],!1,o)}else{var a=i?i.folderPageCurrent:e;t.getTreeEntityList(a)}sessionStorage.removeItem("Page")}},getTreeEntityList:function(e){var t=this;this.$q.loading.show();var i={parentId:null,matchName:"",page:e||1,type:null,pageSize:100};r["F"](i).then((function(i){console.log(i),t.folderPage.folderPageCurrent=e||1,t.folderPage.folderPageTotal=i.data.totalCount,t.FolderList=i.data.results,t.$q.loading.hide()}))},toPrevLevel:function(){var e=this;if(this.RecordDirectorySite[this.RecordDirectorySite.length-1].SearchRootDirectory)this.getEchoLocation();else{var t={parentId:this.RecordDirectorySite[this.RecordDirectorySite.length-1].id,page:this.RecordDirectorySite[this.RecordDirectorySite.length-1].pageCurrent,pageSize:100};this.$q.loading.show(),r["H"](t).then((function(t){console.log(t),e.selection=[],e.folderPage.folderPageCurrent=t.data.currentPage,e.folderPage.folderPageTotal=t.data.totalCount,e.FolderList=t.data.results,e.RecordDirectorySite[e.RecordDirectorySite.length-1].SearchRootDirectory&&e.searchFile(e.RecordDirectorySite[e.RecordDirectorySite.length-1].pageCurrent),e.RecordDirectorySite.pop(),sessionStorage.setItem("RecordDirectorySite",JSON.stringify(e.RecordDirectorySite)),e.$q.loading.hide()}))}},toNextLevel:function(e,t,i){var o=this;if(console.log(e),1===e.type){var a={parentId:e.id,matchName:"",page:i||1,type:null,pageSize:100};this.$q.loading.show(),r["F"](a).then((function(i){console.log(i),t&&(e.pageCurrent=o.folderPage.folderPageCurrent,o.RecordDirectorySite.push(e),sessionStorage.setItem("RecordDirectorySite",JSON.stringify(o.RecordDirectorySite))),o.folderPage.folderPageCurrent=i.data.currentPage,o.folderPage.folderPageTotal=i.data.totalCount,o.selection=[],o.FolderList=i.data.results,o.$q.loading.hide()}))}else 2===e.type?(sessionStorage.setItem("Page",JSON.stringify({searchText:this.searchText.trim(),FileType:this.FileType,folderPageCurrent:this.folderPage.folderPageCurrent,folderPageTotal:this.folderPage.folderPageTotal})),this.$router.push({name:"DirectoryTestCaseDetail",query:{id:e.value}})):3===e.type&&(console.log(e),this.getTestDataSourceDetail(e.value))},DeleteFolder:function(){var e=this;0==this.selection.length?this.$q.notify({position:"top",message:"提示",caption:"请选择文件（目录、测试用例、测试数据源）",color:"red"}):this.$q.dialog({title:"提示",message:"您确定要删除当前选择的文件吗",persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(){var t=e,i=0;function o(){t.$q.loading.show();var e="?id=".concat(t.selection[i].id);r["j"](e).then((function(e){console.log(e),i!=t.selection.length-1?(i++,o()):t.getEchoLocation()}))}o()}))},switchFolderPage:function(e){console.log(e),this.getEchoLocation(e)},SelectDirectoryLocation:function(){var e=this,t=0;function i(){var o="?id=".concat(e.selection[t].id,"&parentId=").concat(e.ChangeFileDirectoryValue.id);r["ab"](o).then((function(o){console.log(o),t!=e.selection.length-1?(t++,i()):(e.ChangeFileDirectoryFlag=!1,e.getEchoLocation())}))}this.ChangeFileDirectoryValue=this.$refs.TreeEntity.getDirectoryLocation(),this.ChangeFileDirectoryValue?(this.$q.loading.show(),i(),console.log(this.ChangeFileDirectoryValue)):this.$q.notify({position:"top",message:"提示",caption:"请选择要移动的目录",color:"red"})},searchFile:function(e){var t=this;if(console.log(e),this.searchText.trim()||this.FileType){console.log(this.FileType);var i=null;switch(this.FileType){case"文件夹":i=1;break;case"测试用例":i=2;break;case"测试数据源":i=3;break}var o={matchName:this.searchText,page:e||1,type:i,pageSize:5};console.log(o),this.$q.loading.show(),r["G"](o).then((function(e){console.log(e),t.folderPage.folderPageCurrent=e.data.currentPage,t.folderPage.folderPageTotal=e.data.totalCount,sessionStorage.setItem("Page",JSON.stringify({searchText:t.searchText.trim(),FileType:t.FileType,folderPageCurrent:t.folderPage.folderPageCurrent,folderPageTotal:t.folderPage.folderPageTotal})),t.RecordDirectorySite.length&&(t.RecordDirectorySite[t.RecordDirectorySite.length-1].SearchRootDirectory=!0),sessionStorage.setItem("RecordDirectorySite",JSON.stringify(t.RecordDirectorySite)),t.isSearchStatus=!0,t.FolderList=e.data.results,t.$q.loading.hide()}))}else this.$q.notify({position:"top",message:"提示",caption:"请填写搜索内容或选择类型进行搜索",color:"red"})},cancelSearch:function(){sessionStorage.removeItem("Page"),this.RecordDirectorySite.length&&(this.RecordDirectorySite[this.RecordDirectorySite.length-1].SearchRootDirectory=!1),sessionStorage.setItem("RecordDirectorySite",JSON.stringify(this.RecordDirectorySite)),this.searchText="",this.FileType=null,this.isSearchStatus=!1,this.getEchoLocation()},newFolderCreate:function(){var e=this;this.$q.dialog({title:"新建目录",message:"目录名称（目录名称不能为空）",prompt:{model:"",type:"text"},persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(t){if(t.trim()){e.$q.loading.show();var i={Name:t,FolderID:e.RecordDirectorySite.length?e.RecordDirectorySite[e.RecordDirectorySite.length-1].id:null};r["N"](i).then((function(t){console.log(t),e.getEchoLocation()}))}else e.$q.notify({position:"top",message:"提示",caption:"目录名称不能为空",color:"red"})}))},ModifyFolderName:function(){var e=this;if(console.log(this.selection),0==this.selection.length)this.$q.notify({position:"top",message:"提示",caption:"请选择目录进行修改",color:"red"});else if(this.selection.length>1)this.$q.notify({position:"top",message:"提示",caption:"只能选择一个目录进行修改",color:"red"});else{if(1!=this.selection[0].type)return void this.$q.notify({position:"top",message:"提示",caption:"只能选择目录进行修改",color:"red"});this.$q.dialog({title:"目录重命名",message:"目录名称",prompt:{model:this.selection[0].name,type:"text"},persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(t){if(t.trim()){var i="?id=".concat(e.selection[0].id,"&name=").concat(t);e.$q.loading.show(),r["Z"](i).then((function(t){console.log(t),e.$q.notify({position:"top",message:"提示",caption:"修改成功",color:"secondary"}),e.getEchoLocation()}))}else e.$q.notify({position:"top",message:"提示",caption:"目录名称不能为空",color:"red"})}))}},ChangeFileDirectory:function(){0==this.selection.length?this.$q.notify({position:"top",message:"提示",caption:"请选择文件（目录、测试用例、测试数据源）",color:"red"}):this.ChangeFileDirectoryFlag=!0},newCancel:function(){this.$refs.CSTestCase.newCancel(),this.createTestCaseFixed=!1},newCreate:function(){var e=this;if(this.$refs.CSTestCase.newCreate()){var t=this.$refs.CSTestCase.newCreate();this.$q.loading.show(),r["K"](t).then((function(t){console.log(t),e.$q.notify({position:"top",message:"提示",caption:"创建成功",color:"secondary"}),e.newCancel(),e.getEchoLocation()}))}},newDataSourceCreate:function(){var e=this;if(this.$refs.createDataSource.newCreate()){var t=this.$refs.createDataSource.newCreate();this.$q.loading.show(),r["L"](t).then((function(){e.getEchoLocation(),e.newDataSourceCancel(),e.$q.notify({position:"top",message:"提示",caption:"创建成功",color:"secondary"})}))}},newDataSourceCancel:function(){this.$refs.createDataSource.newCancel(),this.createDataSourceFixed=!1},getTestDataSourceDetail:function(e){var t=this;this.$q.loading.show();var i={id:e};r["C"](i).then((function(e){console.log(e);var i=e.data;t.dataSourceDetail={SelectedId:i.id,Name:i.name,Type:i.type,Data:i.data,ChangeFileDirectoryName:i.parentName,ChangeFileDirectoryId:i.treeID},t.LookDataSourceFixed=!0,t.$q.loading.hide()}))},cancelPutDataSource:function(){this.$refs.putDataSource.cancelPutDataSource(),this.LookDataSourceFixed=!1},putTestDataSource:function(){var e=this;if(this.$refs.putDataSource.putTestDataSource()){var t=this.$refs.putDataSource.putTestDataSource();this.$q.loading.show(),r["X"](t).then((function(t){console.log(t),e.getEchoLocation(),e.cancelPutDataSource(),e.$q.notify({position:"top",message:"提示",caption:"更新成功",color:"secondary"})}))}},openCopyDirector:function(){0!=this.selection.length?this.copyDirectorFlag=!0:this.$q.notify({position:"top",message:"提示",caption:"请选择要复制的目录文件",color:"red"})},copyDirectorCreate:function(){this.$refs.copyDirector.copyDirectorCreate()}}},D=f,S=(i("0d4d"),Object(u["a"])(D,o,a,!1,null,"2e826594",null));t["default"]=S.exports},b013:function(e,t,i){},bed4:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-dialog",{attrs:{persistent:""},model:{value:e.ChangeFileDirectoryFlag,callback:function(t){e.ChangeFileDirectoryFlag=t},expression:"ChangeFileDirectoryFlag"}},[i("q-card",{staticStyle:{width:"100%"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("选择文件目录")])]),i("q-separator"),i("TreeEntity",{ref:"TreeEntity"}),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:function(t){e.ChangeFileDirectoryFlag=!1}}}),i("q-btn",{attrs:{flat:"",label:"确定",color:"primary"},on:{click:e.SelectDirectoryLocation}})],1)],1)],1),i("div",{staticClass:"new_input"},[i("div",{staticClass:"row input_row"},[i("q-input",{staticClass:"col",attrs:{dense:!1},scopedSlots:e._u([{key:"before",fn:function(){return[i("span",{staticStyle:{"font-size":"14px"}},[e._v("名称:")])]},proxy:!0}]),model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}}),i("q-select",{staticClass:"col",attrs:{options:["String","Int","Json","Label"],dense:!1},scopedSlots:e._u([{key:"before",fn:function(){return[i("span",{staticStyle:{"font-size":"14px"}},[e._v("类型:")])]},proxy:!0},{key:"prepend",fn:function(){},proxy:!0}]),model:{value:e.Type,callback:function(t){e.Type=t},expression:"Type"}}),i("q-input",{staticClass:"col",attrs:{dense:!1,readonly:"",placeholder:"点击右侧加号选择文件目录"},scopedSlots:e._u([{key:"before",fn:function(){return[i("span",{staticStyle:{"font-size":"14px"}},[e._v("文件目录:")])]},proxy:!0},{key:"append",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:e.ChangeFileDirectory}})]},proxy:!0}]),model:{value:e.ChangeFileDirectoryName,callback:function(t){e.ChangeFileDirectoryName=t},expression:"ChangeFileDirectoryName"}})],1),i("div",{staticClass:"row input_row"},[i("q-input",{staticClass:"col-xs-12",attrs:{dense:!1,type:"textarea","input-style":{height:"400px"},outlined:""},scopedSlots:e._u([{key:"before",fn:function(){return[i("span",{staticStyle:{"font-size":"14px"}},[e._v("数据:")])]},proxy:!0}]),model:{value:e.Data,callback:function(t){e.Data=t},expression:"Data"}})],1)])],1)},a=[],r=(i("a9e3"),i("498a"),i("53ca")),n=i("08d6"),c={props:["detailData"],components:{TreeEntity:n["a"]},data:function(){return{SelectedId:"",Name:"",Type:"",Data:"",ChangeFileDirectoryFlag:!1,ChangeFileDirectoryName:"",ChangeFileDirectoryId:null}},mounted:function(){if(this.detailData){var e=this.detailData;console.log(e),this.SelectedId=e.SelectedId,this.Name=e.Name,this.Type=e.Type,this.Data=e.Data,this.ChangeFileDirectoryName=e.ChangeFileDirectoryName,this.ChangeFileDirectoryId=e.ChangeFileDirectoryId}},methods:{newCreate:function(){var e={Name:this.Name.trim(),Type:this.Type,Data:this.Data.trim(),FolderID:this.ChangeFileDirectoryId};if(this.Name.trim()&&this.Type&&this.Data.trim()){if(!this.isDataType(this.Type))return;return e}return this.$q.notify({position:"top",message:"提示",caption:"请填写完整信息",color:"red"}),!1},newCancel:function(){this.Name="",this.Type="",this.Data=""},cancelPutDataSource:function(){this.SelectedId="",this.Name="",this.Type="",this.Data="",this.ChangeFileDirectoryName="",this.ChangeFileDirectoryId=null},putTestDataSource:function(){var e={ID:this.SelectedId,Name:this.Name.trim(),Type:this.Type,Data:this.Data.trim(),FolderID:this.ChangeFileDirectoryId};if(this.SelectedId&&this.Name.trim()&&this.Type&&this.Data.trim()){if(!this.isDataType(this.Type))return;return this.$q.loading.show(),e}return this.$q.notify({position:"top",message:"提示",caption:"请填写完整信息",color:"red"}),!1},isDataType:function(e){return"Int"==e?!!Number(this.Data)||(this.$q.notify({position:"top",message:"提示",caption:"当前数据不是Int类型",color:"red"}),!1):"Json"!=e||!!this.isJSON(this.Data.trim())},isJSON:function(e){if("string"==typeof e)try{var t=JSON.parse(e);if("object"==Object(r["a"])(t)&&t)return!0;this.$q.notify({position:"top",message:"提示",caption:"配置不是正确的JSON格式",color:"red"})}catch(i){this.$q.notify({position:"top",message:"提示",caption:"配置不是正确的JSON格式",color:"red"})}},ChangeFileDirectory:function(){this.ChangeFileDirectoryFlag=!0},SelectDirectoryLocation:function(){this.ChangeFileDirectoryName=this.$refs.TreeEntity.getDirectoryLocation().label,this.ChangeFileDirectoryId=this.$refs.TreeEntity.getDirectoryLocation().id||null,this.ChangeFileDirectoryFlag=!1}}},s=c,l=i("2877"),d=Object(l["a"])(s,o,a,!1,null,"2e9e4b48",null);t["a"]=d.exports}}]);
//# sourceMappingURL=chunk-2cae805c.bfa60df3.js.map