(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74ba81b9"],{"43bd":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Directory"}},[a("div",{staticClass:"detail_header row"},[a("div",{staticClass:"col-7"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isRootFolderFlag,expression:"!isRootFolderFlag"}],staticClass:"btn",attrs:{color:"primary",label:"上一级"},on:{click:e.prevLevel}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"目录重命名"},on:{click:e.ModifyFolderName}}),a("q-btn",{staticClass:"btn",attrs:{color:"red",label:"删除"},on:{click:e.DeleteFolder}}),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isRootFolderFlag,expression:"!isRootFolderFlag"}],staticClass:"btn",attrs:{color:"primary",label:"移动文件"},on:{click:e.ChangeFileDirectory}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"新建目录"},on:{click:e.newFolderCreate}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"新建测试用例"},on:{click:function(t){e.createTestCaseFixed=!0}}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"新建测试数据源"},on:{click:function(t){e.createDataSourceFixed=!0}}})],1),a("div",{staticClass:"col-5 row"},[a("q-input",{staticClass:"col-5",attrs:{outlined:"",placeholder:"请输入文件名称",type:"search",dense:!0},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("q-select",{staticClass:"col-3",staticStyle:{margin:"0 10px"},attrs:{options:["文件夹","测试用例","测试数据源"],label:"类型",outlined:"",dense:!0},model:{value:e.FileType,callback:function(t){e.FileType=t},expression:"FileType"}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"搜索"},on:{click:e.searchFile}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"取消搜索"},on:{click:e.cancelSearch}})],1)]),a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"Rootfolder row"},e._l(e.FolderList,(function(t,s){return a("div",{key:s,staticClass:"Rootfolder_list",attrs:{tag:"label"},on:{dblclick:function(a){return e.toNextLevel(t,s)}}},[0==t.Type?a("q-checkbox",{staticClass:"checkbox",attrs:{val:t,dense:!0,label:""},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}}):e._e(),a("span",{directives:[{name:"show",rawName:"v-show",value:0==t.Type,expression:"value.Type==0"}],staticClass:"svg-container"},[a("svg",{staticClass:"icon iconfolder",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-wenjianjia2"}})])]),a("span",{directives:[{name:"show",rawName:"v-show",value:1==t.Type,expression:"value.Type==1"}],staticClass:"svg-container"},[a("svg",{staticClass:"icon iconfolder",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon--wenjian"}})])]),a("span",{directives:[{name:"show",rawName:"v-show",value:2==t.Type,expression:"value.Type==2"}],staticClass:"svg-container"},[a("svg",{staticClass:"icon iconfolder",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-shujuyuan"}})])]),a("p",[e._v(e._s(t.Name))])],1)})),0)]),a("q-dialog",{attrs:{persistent:""},model:{value:e.ChangeFileDirectoryFlag,callback:function(t){e.ChangeFileDirectoryFlag=t},expression:"ChangeFileDirectoryFlag"}},[a("q-card",{staticStyle:{width:"100%"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("选择文件目录")])]),a("q-separator"),a("TreeEntity"),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:function(t){e.ChangeFileDirectoryFlag=!1}}}),a("q-btn",{attrs:{flat:"",label:"确定",color:"primary"},on:{click:function(t){e.ChangeFileDirectoryFlag=!1}}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.createTestCaseFixed,callback:function(t){e.createTestCaseFixed=t},expression:"createTestCaseFixed"}},[a("q-card",{staticStyle:{width:"100%","max-width":"70vw"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("创建测试用例")])]),a("q-separator"),a("CreateShowTestCase",{ref:"CSTestCase",attrs:{dataSourceName:e.dataSourceName}}),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:e.newCancel}}),a("q-btn",{attrs:{flat:"",label:"创建",color:"primary"},on:{click:e.newCreate}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.createDataSourceFixed,callback:function(t){e.createDataSourceFixed=t},expression:"createDataSourceFixed"}},[a("q-card",{staticStyle:{width:"100%","max-width":"70vw"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("创建测试数据源")])]),a("q-separator"),a("div",{staticClass:"new_input"},[a("div",{staticClass:"row input_row"},[a("q-input",{staticClass:"col",attrs:{dense:!1},scopedSlots:e._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[e._v("名称:")])]},proxy:!0}]),model:{value:e.DataSourceName,callback:function(t){e.DataSourceName=t},expression:"DataSourceName"}}),a("q-select",{staticClass:"col",attrs:{options:["String","Int","Json","Label"],dense:!1},scopedSlots:e._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[e._v("类型:")])]},proxy:!0},{key:"prepend",fn:function(){},proxy:!0}]),model:{value:e.DataSourceType,callback:function(t){e.DataSourceType=t},expression:"DataSourceType"}}),a("q-input",{staticClass:"col",attrs:{dense:!1,readonly:"",placeholder:"点击右侧加号选择文件目录"},scopedSlots:e._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[e._v("文件目录:")])]},proxy:!0},{key:"append",fn:function(){return[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:e.ChangeFileDirectory}})]},proxy:!0}]),model:{value:e.DataSourceType,callback:function(t){e.DataSourceType=t},expression:"DataSourceType"}})],1),a("div",{staticClass:"row input_row"},[a("q-input",{staticClass:"col-xs-12",attrs:{dense:!1,type:"textarea","input-style":{height:"400px"},outlined:""},scopedSlots:e._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[e._v("数据:")])]},proxy:!0}]),model:{value:e.DataSourceData,callback:function(t){e.DataSourceData=t},expression:"DataSourceData"}})],1)]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:e.newDataSourceCancel}}),a("q-btn",{attrs:{flat:"",label:"创建",color:"primary"},on:{click:e.newDataSourceCreate}})],1)],1)],1)],1)},i=[],o=(a("a434"),a("4d63"),a("ac1f"),a("25f0"),a("466d"),a("498a"),a("365c")),r=a("10b4"),l=a("08d6"),n={name:"Directory",components:{CreateShowTestCase:r["a"],TreeEntity:l["a"]},data:function(){return{FolderList:[],RootFolderList:[{ID:"1",Name:"文件夹1",Type:0,Value:"",ParentID:null},{ID:"2",Name:"文件夹2",Type:0,Value:"",ParentID:null},{ID:"3",Name:"文件夹3",Type:0,Value:"",ParentID:null},{ID:"3a949390-4c40-4735-9ec8-a3e414a37406",Name:"JasonTest12",Type:1,Value:"",ParentID:null},{ID:"f64823a1-3327-4a24-b49f-58a2e96ca400",Name:"JsonTest13",Type:1,Value:"",ParentID:null},{ID:"1039e6cd-d096-11ea-b225-00ffb1d16cf9",Name:"datasource_host",Type:2,Value:"",ParentID:null}],ChildFolderList:[{ID:"001",Name:"子文件夹1",Type:0,Value:"",ParentID:"1"},{ID:"002",Name:"子文件夹2",Type:0,Value:"",ParentID:"1"},{ID:"003",Name:"子文件夹3",Type:0,Value:"",ParentID:"2"}],isRootFolderFlag:!0,selection:[],searchText:"",FileType:"",createFolderFixed:!1,FolderName:"",SelectFolder:"",ChangeFileDirectoryFlag:!1,createTestCaseFixed:!1,dataSourceName:[],createDataSourceFixed:!1,DataSourceName:"",DataSourceType:"",DataSourceData:""}},created:function(){this.prevLevel(),this.getDataSourceName()},methods:{toNextLevel:function(e,t){if(console.log(e,t),0==e.Type){this.FolderList=[],this.isRootFolderFlag=!1;for(var a=0;a<this.ChildFolderList.length;a++)this.ChildFolderList[a].ParentID===e.ID&&this.FolderList.push(this.ChildFolderList[a]);this.SelectFolder=e}else 1==e.Type?this.$router.push({path:"/Directory/TestCase/Detail",query:{id:e.ID}}):2==e.Type&&this.$router.push({path:"/Directory/TestDataSource/Detail",query:{id:e.ID}})},prevLevel:function(){this.FolderList=[],this.isRootFolderFlag=!0;for(var e=0;e<this.RootFolderList.length;e++)this.FolderList.push(this.RootFolderList[e])},DeleteFolder:function(){var e=this;0==this.selection.length?this.$q.notify({position:"top",message:"提示",caption:"请选择文件夹",color:"red"}):this.$q.dialog({title:"提示",message:"您确定要删除当前选择的的文件夹吗",persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(){for(var t=0;t<e.RootFolderList.length;t++)e.RootFolderList[t].ID==e.SelectFolder.ID&&e.RootFolderList.splice(t,1);e.prevLevel()})).onCancel((function(){}))},ChangeFileDirectory:function(){this.ChangeFileDirectoryFlag=!0},searchFile:function(){if(""===this.searchText&&""===this.FileType)this.$q.notify({position:"top",message:"提示",caption:"搜索条件必须必须有一个",color:"red"});else{var e=-1;"文件夹"===this.FileType?e=0:"测试用例"===this.FileType?e=1:"测试数据源"===this.FileType&&(e=2),this.isRootFolderFlag=!0;var t=new RegExp(this.searchText.trim(),"i");this.FolderList=[];for(var a=0;a<this.RootFolderList.length;a++)""!=this.searchText.trim()&&""!=this.FileType?this.RootFolderList[a].Name.match(t)&&this.RootFolderList[a].Type==e&&this.FolderList.push(this.RootFolderList[a]):""!=this.searchText.trim()?this.RootFolderList[a].Name.match(t)&&this.FolderList.push(this.RootFolderList[a]):this.RootFolderList[a].Type==e&&this.FolderList.push(this.RootFolderList[a]);for(var s=0;s<this.ChildFolderList.length;s++)""!=this.searchText.trim()&&""!=this.FileType?this.ChildFolderList[s].Name.match(t)&&this.ChildFolderList[s].Type==e&&this.FolderList.push(this.ChildFolderList[s]):""!=this.searchText.trim()?this.ChildFolderList[s].Name.match(t)&&this.FolderList.push(this.ChildFolderList[s]):this.ChildFolderList[s].Type==e&&this.FolderList.push(this.ChildFolderList[s])}},cancelSearch:function(){this.searchText="",this.FileType="",this.isRootFolderFlag=!1,this.prevLevel()},newFolderCancel:function(){this.FolderName="",this.createFolderFixed=!1},newFolderCreate:function(){this.$q.dialog({title:"新建文件夹",message:"文件夹名称",prompt:{model:"",type:"text"},persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(e){console.log(e)})).onCancel((function(){}))},ModifyFolderName:function(){console.log(this.selection),0==this.selection.length?this.$q.notify({position:"top",message:"提示",caption:"请选择文件夹",color:"red"}):this.selection.length>1?this.$q.notify({position:"top",message:"提示",caption:"只能选择一个文件夹",color:"red"}):(console.log(this.selection),this.$q.dialog({title:"重命名",message:"文件夹名称",prompt:{model:this.selection[0].Name,type:"text"},persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(e){console.log(e)})))},getDataSourceName:function(){var e=this;this.$q.loading.show();var t={};o["k"](t).then((function(t){console.log(t),e.dataSourceName=t.data,e.$q.loading.hide()}))},newCancel:function(){this.$refs.CSTestCase.newCancel(),this.createTestCaseFixed=!1},newCreate:function(){this.newCancel()},newDataSourceCreate:function(){this.newDataSourceCancel()},newDataSourceCancel:function(){this.DataSourceName="",this.DataSourceType="",this.DataSourceData="",this.createDataSourceFixed=!1}}},c=n,d=(a("a1c4"),a("2877")),h=Object(d["a"])(c,s,i,!1,null,"049a3328",null);t["default"]=h.exports},"466d":function(e,t,a){"use strict";var s=a("d784"),i=a("825a"),o=a("50c4"),r=a("1d80"),l=a("8aa5"),n=a("14c3");s("match",1,(function(e,t,a){return[function(t){var a=r(this),s=void 0==t?void 0:t[e];return void 0!==s?s.call(t,a):new RegExp(t)[e](String(a))},function(e){var s=a(t,e,this);if(s.done)return s.value;var r=i(e),c=String(this);if(!r.global)return n(r,c);var d=r.unicode;r.lastIndex=0;var h,u=[],p=0;while(null!==(h=n(r,c))){var F=String(h[0]);u[p]=F,""===F&&(r.lastIndex=l(c,o(r.lastIndex),d)),p++}return 0===p?null:u}]}))},"645d":function(e,t,a){},a1c4:function(e,t,a){"use strict";var s=a("645d"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-74ba81b9.a8b4e563.js.map