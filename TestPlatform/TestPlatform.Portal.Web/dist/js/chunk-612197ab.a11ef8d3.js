(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-612197ab"],{"0442":function(t,e,a){},"1d47":function(t,e,a){"use strict";var n=a("0442"),s=a.n(n);s.a},"514a":function(t,e,a){},5750:function(t,e,a){"use strict";var n=a("514a"),s=a.n(n);s.a},5954:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestCase"},[a("div",{staticClass:"q-pa-md"},[a("q-table",{attrs:{title:"测试用例列表",data:t.TestCaseList,columns:t.columns,"row-key":"id","rows-per-page-options":[0],"table-style":"max-height: 500px","no-data-label":"暂无数据更新"},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"新 增"},on:{click:t.openCrateTestCase}})]},proxy:!0},{key:"bottom",fn:function(){return[a("q-pagination",{staticClass:"col offset-md-10",attrs:{max:t.pagination.rowsNumber,input:!0},on:{input:t.nextPage},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})]},proxy:!0},{key:"body-cell-id",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"更 新"},on:{click:function(a){return t.toDetail(e)}}}),a("q-btn",{staticClass:"btn",staticStyle:{background:"#FF0000",color:"white"},attrs:{label:"删 除"},on:{click:function(a){return t.deleteTestCase(e)}}})],1)]}}])})],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.createFixed,callback:function(e){t.createFixed=e},expression:"createFixed"}},[a("q-card",{staticStyle:{width:"100%","max-width":"70vw"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("创建测试用例")])]),a("q-separator"),a("CreateShowTestCase",{ref:"CSTestCase",attrs:{masterHostList:t.masterHostList,dataSourceName:t.dataSourceName}}),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:t.newCancel}}),a("q-btn",{attrs:{flat:"",label:"创建",color:"primary"},on:{click:t.newCreate}})],1)],1)],1)],1)},s=[],i=(a("b0c0"),a("365c")),o=a("10b4"),r={name:"TestCase",components:{CreateShowTestCase:o["a"]},data:function(){return{createFixed:!1,TestCaseList:[],masterHostList:[],dataSourceName:[],selected:[],columns:[{name:"name",required:!0,label:"名称",align:"left",field:function(t){return t.name},format:function(t){return"".concat(t)}},{name:"engineType",align:"left",label:"引擎类型",field:"engineType"},{name:"configuration",label:"配置",align:"left",field:"configuration"},{name:"status",label:"状态",align:"left",field:"status"},{name:"id",label:"操作",align:"right",field:"id",headerStyle:"text-align:center"}],pagination:{page:1,rowsNumber:1}}},mounted:function(){this.getTestCaseList()},computed:{},methods:{openCrateTestCase:function(){this.createFixed=!0},getMasterHostList:function(){var t=this;i["n"]().then((function(e){console.log(e),t.masterHostList=e.data,t.$q.loading.hide()}))},getTestCaseList:function(t){var e=this;this.$q.loading.show();var a={matchName:"",page:t||1};i["v"](a).then((function(a){console.log(a),e.TestCaseList=a.data.results,e.pagination.page=t||1,e.pagination.rowsNumber=Math.ceil(a.data.totalCount/50),e.getMasterHostList(),e.getDataSourceName()}))},getDataSourceName:function(){var t=this,e={};i["k"](e).then((function(e){console.log(e),t.dataSourceName=e.data}))},nextPage:function(t){this.getTestCaseList(t)},deleteTestCase:function(t){var e=this;console.log(t),this.$q.dialog({title:"提示",message:"您确定要删除当前的测试用例吗",persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(){e.$q.loading.show();var a="?id=".concat(t.row.id);i["f"](a).then((function(t){console.log(t),e.getTestCaseList()}))})).onCancel((function(){}))},newCancel:function(){this.$refs.CSTestCase.newCancel(),this.createFixed=!1},newCreate:function(){var t=this;if(this.$refs.CSTestCase.newCreate()){var e=this.$refs.CSTestCase.newCreate();this.$q.loading.show(),i["D"](e).then((function(e){console.log(e),t.getTestCaseList(),t.$q.notify({position:"top",message:"提示",caption:"创建成功",color:"secondary"}),t.newCancel()}))}},toDetail:function(t){this.$router.push({name:"TestCaseDetail",query:{id:t.row.id}})}}},c=r,l=(a("5750"),a("1d47"),a("2877")),u=Object(l["a"])(c,n,s,!1,null,"050dc37a",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-612197ab.a11ef8d3.js.map