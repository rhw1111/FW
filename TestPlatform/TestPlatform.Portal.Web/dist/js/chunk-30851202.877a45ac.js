(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30851202"],{"1cc7":function(e,t,a){},"43bd":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Directory"}},[a("div",{staticClass:"detail_header row detail_fixed"},[a("div",{staticClass:"col-7"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isRootFolderFlag,expression:"!isRootFolderFlag"}],staticClass:"btn",attrs:{color:"primary",label:"上一级"},on:{click:e.toPrevLevel}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"目录重命名"},on:{click:e.ModifyFolderName}}),a("q-btn",{staticClass:"btn",attrs:{color:"red",label:"删除"},on:{click:e.DeleteFolder}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"移动目录"},on:{click:e.ChangeFileDirectory}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"新建目录"},on:{click:e.newFolderCreate}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"新建测试用例"},on:{click:function(t){e.createTestCaseFixed=!0}}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"新建测试数据源"},on:{click:function(t){e.createDataSourceFixed=!0}}})],1),a("div",{staticClass:"col-5 row"},[a("div",{staticClass:"col-8 row"},[a("q-input",{staticClass:"col-8",attrs:{outlined:"",placeholder:"请输入文件名称",type:"search",dense:!0},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("q-select",{staticClass:"col-3",staticStyle:{"margin-left":"10px"},attrs:{options:["文件夹","测试用例","测试数据源"],label:"类型",outlined:"",dense:!0},model:{value:e.FileType,callback:function(t){e.FileType=t},expression:"FileType"}})],1),a("div",{staticClass:"col-4"},[a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"搜索"},on:{click:e.searchFile}}),a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"取消搜索"},on:{click:e.cancelSearch}})],1)])]),a("div",{staticClass:"folder"},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"Rootfolder row"},e._l(e.FolderList,(function(t,o){return a("div",{key:o,staticClass:"Rootfolder_list",attrs:{tag:"label"},on:{dblclick:function(a){return e.toNextLevel(t,o)}}},[a("q-checkbox",{staticClass:"checkbox",attrs:{val:t,dense:!0,label:""},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:1==t.type,expression:"value.type==1"}],staticClass:"svg-container"},[a("svg",{staticClass:"icon iconfolder",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-wenjianjia2"}})])]),a("span",{directives:[{name:"show",rawName:"v-show",value:2==t.type,expression:"value.type==2"}],staticClass:"svg-container"},[a("svg",{staticClass:"icon iconfolder",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon--wenjian"}})])]),a("span",{directives:[{name:"show",rawName:"v-show",value:3==t.type,expression:"value.type==3"}],staticClass:"svg-container"},[a("svg",{staticClass:"icon iconfolder",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-shujuyuan"}})])]),a("p",[e._v(e._s(t.name))])],1)})),0),a("div",{staticClass:"folderList_page"},[a("q-pagination",{staticStyle:{float:"right","margin-top":"5px","margin-right":"5%"},attrs:{max:e.folderPageMaxCurrent,input:!0},on:{input:e.switchFolderPage},model:{value:e.folderPageCurrent,callback:function(t){e.folderPageCurrent=t},expression:"folderPageCurrent"}})],1)])]),a("q-dialog",{attrs:{persistent:""},model:{value:e.ChangeFileDirectoryFlag,callback:function(t){e.ChangeFileDirectoryFlag=t},expression:"ChangeFileDirectoryFlag"}},[a("q-card",{staticStyle:{width:"100%"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("选择文件目录")])]),a("q-separator"),a("TreeEntity"),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:function(t){e.ChangeFileDirectoryFlag=!1}}}),a("q-btn",{attrs:{flat:"",label:"确定",color:"primary"},on:{click:function(t){e.ChangeFileDirectoryFlag=!1}}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.createTestCaseFixed,callback:function(t){e.createTestCaseFixed=t},expression:"createTestCaseFixed"}},[a("q-card",{staticStyle:{width:"100%","max-width":"70vw"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("创建测试用例")])]),a("q-separator"),a("CreateShowTestCase",{ref:"CSTestCase",attrs:{dataSourceName:e.dataSourceName}}),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:e.newCancel}}),a("q-btn",{attrs:{flat:"",label:"创建",color:"primary"},on:{click:e.newCreate}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.createDataSourceFixed,callback:function(t){e.createDataSourceFixed=t},expression:"createDataSourceFixed"}},[a("q-card",{staticStyle:{width:"100%","max-width":"70vw"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("创建测试数据源")])]),a("q-separator"),a("div",{staticClass:"new_input"},[a("div",{staticClass:"row input_row"},[a("q-input",{staticClass:"col",attrs:{dense:!1},scopedSlots:e._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[e._v("名称:")])]},proxy:!0}]),model:{value:e.DataSourceName,callback:function(t){e.DataSourceName=t},expression:"DataSourceName"}}),a("q-select",{staticClass:"col",attrs:{options:["String","Int","Json","Label"],dense:!1},scopedSlots:e._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[e._v("类型:")])]},proxy:!0},{key:"prepend",fn:function(){},proxy:!0}]),model:{value:e.DataSourceType,callback:function(t){e.DataSourceType=t},expression:"DataSourceType"}}),a("q-input",{staticClass:"col",attrs:{dense:!1,readonly:"",placeholder:"点击右侧加号选择文件目录"},scopedSlots:e._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[e._v("文件目录:")])]},proxy:!0},{key:"append",fn:function(){return[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:e.ChangeFileDirectory}})]},proxy:!0}]),model:{value:e.DataSourceType,callback:function(t){e.DataSourceType=t},expression:"DataSourceType"}})],1),a("div",{staticClass:"row input_row"},[a("q-input",{staticClass:"col-xs-12",attrs:{dense:!1,type:"textarea","input-style":{height:"400px"},outlined:""},scopedSlots:e._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[e._v("数据:")])]},proxy:!0}]),model:{value:e.DataSourceData,callback:function(t){e.DataSourceData=t},expression:"DataSourceData"}})],1)]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:e.newDataSourceCancel}}),a("q-btn",{attrs:{flat:"",label:"创建",color:"primary"},on:{click:e.newDataSourceCreate}})],1)],1)],1)],1)},s=[],i=a("365c"),n=a("10b4"),l=a("08d6"),r={name:"Directory",components:{CreateShowTestCase:n["a"],TreeEntity:l["a"]},data:function(){return{FolderList:[],isRootFolderFlag:!0,selection:[],SelectFolder:"",folderPageCurrent:1,folderPageMaxCurrent:1,searchText:"",FileType:null,ChangeFileDirectoryFlag:!1,createTestCaseFixed:!1,dataSourceName:[],createDataSourceFixed:!1,DataSourceName:"",DataSourceType:"",DataSourceData:""}},created:function(){this.getTreeEntityList()},methods:{getTreeEntityList:function(e){var t=this;this.$q.loading.show();var a={matchName:"",page:e||1,type:null,pageSize:100};i["F"](a).then((function(a){console.log(a),t.folderPageCurrent=e||1,t.folderPageMaxCurrent=Math.ceil(a.data.totalCount/100),t.FolderList=a.data.results,t.$q.loading.hide()}))},toPrevLevel:function(){var e={parentId:this.SelectFolder.id,page:1,pageSize:100};i["G"](e).then((function(e){console.log(e)}))},toNextLevel:function(e,t){var a=this,o={parentId:e.id,matchName:"",page:1,type:null,pageSize:100};this.$q.loading.show(),i["E"](o).then((function(t){console.log(t),a.isRootFolderFlag=!1,a.SelectFolder=e,a.FolderList=t.data.results,a.$q.loading.hide()})),console.log(e,t)},DeleteFolder:function(){0==this.selection.length?this.$q.notify({position:"top",message:"提示",caption:"请选择目录",color:"red"}):this.$q.dialog({title:"提示",message:"您确定要删除当前选择的的目录吗",persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(){})).onCancel((function(){}))},ChangeFileDirectory:function(){this.ChangeFileDirectoryFlag=!0},switchFolderPage:function(e){console.log(e),this.getTreeEntityList(e)},searchFile:function(){this.getTreeEntityList()},cancelSearch:function(){this.searchText="",this.FileType=null,this.isRootFolderFlag=!1},newFolderCreate:function(){var e=this;this.$q.dialog({title:"新建目录",message:"目录名称",prompt:{model:"",type:"text"},persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(t){e.$q.loading.show();var a={Name:t,FolderID:e.SelectFolder?e.SelectFolder.id:e.SelectFolder};i["M"](a).then((function(t){console.log(t),e.$q.loading.hide()}))}))},ModifyFolderName:function(){console.log(this.selection),0==this.selection.length?this.$q.notify({position:"top",message:"提示",caption:"请选择目录、测试用例、测试数据源",color:"red"}):this.selection.length>1?this.$q.notify({position:"top",message:"提示",caption:"只能选择一个文件进行修改（目录、测试用例、测试数据源）",color:"red"}):(console.log(this.selection),this.$q.dialog({title:"目录重命名",message:"目录名称",prompt:{model:this.selection[0].Name,type:"text"},persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(e){console.log(e)})))},getDataSourceName:function(){var e=this;this.$q.loading.show();var t={};i["k"](t).then((function(t){console.log(t),e.dataSourceName=t.data,e.$q.loading.hide()}))},newCancel:function(){this.$refs.CSTestCase.newCancel(),this.createTestCaseFixed=!1},newCreate:function(){var e=this;if(this.$refs.CSTestCase.newCreate()){var t=this.$refs.CSTestCase.newCreate();this.$q.loading.show(),i["J"](t).then((function(t){console.log(t),e.getTestCaseList(),e.$q.notify({position:"top",message:"提示",caption:"创建成功",color:"secondary"}),e.newCancel(),e.getTreeEntityList()}))}},newDataSourceCreate:function(){this.newDataSourceCancel()},newDataSourceCancel:function(){this.DataSourceName="",this.DataSourceType="",this.DataSourceData="",this.createDataSourceFixed=!1}}},c=r,d=(a("73c8"),a("2877")),u=Object(d["a"])(c,o,s,!1,null,"068dafd2",null);t["default"]=u.exports},"73c8":function(e,t,a){"use strict";var o=a("1cc7"),s=a.n(o);s.a}}]);
//# sourceMappingURL=chunk-30851202.877a45ac.js.map