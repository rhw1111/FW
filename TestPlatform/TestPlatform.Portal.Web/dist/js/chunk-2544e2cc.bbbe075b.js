(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2544e2cc"],{"10b4":function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("lookUp",{ref:"lookUp",attrs:{masterHostList:t.masterHostList,masterSelectIndex:t.masterHostIndex,fixed:t.HostFixed},on:{addMasterHost:t.addMasterHost,cancelMasterHost:t.cancelMasterHost}}),e("div",{staticClass:"new_input"},[e("div",{staticClass:"row input_row"},[e("q-input",{staticClass:"col",attrs:{dense:!1},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px"}},[t._v("名称:")])]},proxy:!0}]),model:{value:t.Name,callback:function(n){t.Name=n},expression:"Name"}}),e("q-select",{staticClass:"col",attrs:{options:["Http","Tcp"],dense:!1},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px"}},[t._v("引擎类型:")])]},proxy:!0},{key:"prepend",fn:function(){},proxy:!0}]),model:{value:t.EngineType,callback:function(n){t.EngineType=n},expression:"EngineType"}}),e("q-input",{staticClass:"col",attrs:{dense:!1,readonly:"",placeholder:"点击右侧加号选择主机"},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px"}},[t._v("主机:")])]},proxy:!0},{key:"append",fn:function(){return[e("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:t.masterHost}})]},proxy:!0}]),model:{value:t.masterHostSelect,callback:function(n){t.masterHostSelect=n},expression:"masterHostSelect"}})],1),e("span",{staticStyle:{"font-size":"14px"}},[t._v("参数配置:")]),e("div",{staticClass:"row",staticStyle:{"margin-bottom":"10px"}},[e("q-input",{staticClass:"col",attrs:{maxlength:"6",type:"text",filled:"","bottom-slots":"",dense:!0},on:{input:function(n){return t.ifRegular("UserCount",t.paraConfig.UserCount)}},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px",width:"100px"}},[t._v("压测用户总数:")])]},proxy:!0},{key:"append",fn:function(){return[e("span",{staticStyle:{"font-size":"14px"}},[t._v("个")])]},proxy:!0}]),model:{value:t.paraConfig.UserCount,callback:function(n){t.$set(t.paraConfig,"UserCount",n)},expression:"paraConfig.UserCount"}}),e("q-input",{staticClass:"col",attrs:{maxlength:"6",filled:"","bottom-slots":"",dense:!0},on:{input:function(n){return t.ifRegular("PerSecondUserCount",t.paraConfig.PerSecondUserCount)}},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px",width:"105px","margin-left":"10px"}},[t._v("每秒加载用户数:")])]},proxy:!0},{key:"append",fn:function(){return[e("span",{staticStyle:{"font-size":"14px"}},[t._v("个/秒")])]},proxy:!0}]),model:{value:t.paraConfig.PerSecondUserCount,callback:function(n){t.$set(t.paraConfig,"PerSecondUserCount",n)},expression:"paraConfig.PerSecondUserCount"}}),e("q-input",{staticClass:"col",attrs:{maxlength:"6",filled:"","bottom-slots":"",dense:!0},on:{input:function(n){return t.ifRegular("Duration",t.paraConfig.Duration)}},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px",width:"100px","margin-left":"10px"}},[t._v("压测时间:")])]},proxy:!0},{key:"append",fn:function(){return[e("span",{staticStyle:{"font-size":"14px"}},[t._v("秒")])]},proxy:!0}]),model:{value:t.paraConfig.Duration,callback:function(n){t.$set(t.paraConfig,"Duration",n)},expression:"paraConfig.Duration"}})],1),e("div",{staticClass:"row",staticStyle:{"margin-bottom":"10px"}},[e("q-input",{staticClass:"col",attrs:{filled:"","bottom-slots":"",dense:!0,placeholder:"请输入ipv4地址"},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px",width:"100px"}},[t._v("被测服务器:")])]},proxy:!0},{key:"append",fn:function(){return[e("span",{staticStyle:{"font-size":"14px"}},[t._v("ip地址")])]},proxy:!0}]),model:{value:t.paraConfig.Address,callback:function(n){t.$set(t.paraConfig,"Address",n)},expression:"paraConfig.Address"}}),e("q-input",{staticClass:"col",attrs:{maxlength:"5",filled:"","bottom-slots":"",dense:!0,placeholder:"范围0-65535之间"},on:{input:function(n){return t.ifRegular("Port",t.paraConfig.Port)}},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px",width:"105px","margin-left":"10px"}},[t._v("被测服务器端口:")])]},proxy:!0},{key:"append",fn:function(){return[e("span",{staticStyle:{"font-size":"14px"}},[t._v("端口")])]},proxy:!0}]),model:{value:t.paraConfig.Port,callback:function(n){t.$set(t.paraConfig,"Port",n)},expression:"paraConfig.Port"}}),e("q-input",{staticClass:"col",attrs:{filled:"","bottom-slots":"",dense:!0},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px",width:"105px","margin-left":"10px"}},[t._v("结束分隔符:")])]},proxy:!0}]),model:{value:t.paraConfig.ResponseSeparator,callback:function(n){t.$set(t.paraConfig,"ResponseSeparator",n)},expression:"paraConfig.ResponseSeparator"}})],1),e("div",{staticClass:"row",staticStyle:{"margin-bottom":"10px"}},[e("q-select",{staticClass:"col-4",attrs:{options:t.PrintLogOptions,"emit-value":"","map-options":"",dense:!1},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px"}},[t._v("是否打印日志:")])]},proxy:!0},{key:"prepend",fn:function(){},proxy:!0}]),model:{value:t.paraConfig.IsPrintLog,callback:function(n){t.$set(t.paraConfig,"IsPrintLog",n)},expression:"paraConfig.IsPrintLog"}})],1),e("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[e("q-expansion-item",{staticStyle:{"text-align":"left",position:"relative"},attrs:{label:"数据源","expand-icon-toggle":"","expand-separator":""},scopedSlots:t._u([{key:"header",fn:function(){return[e("q-item-section",[t._v(" 数据源 ")]),e("q-item-section",{attrs:{side:""}},[e("div",{staticClass:"row items-center"},[e("q-btn",{staticClass:"btn ",staticStyle:{margin:"0px 0px 0px 20px"},attrs:{color:"primary",label:"添加数据源参数"},on:{click:function(n){return t.addDataVars("DataSource")}}})],1)])]},proxy:!0}]),model:{value:t.DataSourceExpanded,callback:function(n){t.DataSourceExpanded=n},expression:"DataSourceExpanded"}},[e("q-card",[e("q-card-section",{directives:[{name:"show",rawName:"v-show",value:0==t.paraConfig.DataSourceVars.length,expression:"paraConfig.DataSourceVars.length==0"}]},[t._v("暂无参数配置，请点击添加数据源参数按钮进行添加。")]),e("transition-group",{attrs:{name:"MoveList"}},t._l(t.paraConfig.DataSourceVars,(function(n,a){return e("q-card-section",{key:a},[e("span",{staticStyle:{"font-size":"14px"}},[t._v("参数"+t._s(a+1)+":")]),e("div",{staticClass:"row"},[e("q-input",{staticClass:"col-5",attrs:{filled:"",dense:!0},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px",width:"100px"}},[t._v("名称:")])]},proxy:!0}],null,!0),model:{value:t.paraConfig.DataSourceVars[a].Name,callback:function(n){t.$set(t.paraConfig.DataSourceVars[a],"Name",n)},expression:"paraConfig.DataSourceVars[ind].Name"}}),e("q-select",{staticClass:"col-5",attrs:{options:t.dataSource,dense:!0},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px","margin-left":"10px",width:"80px"}},[t._v("数据源名称:")])]},proxy:!0},{key:"prepend",fn:function(){},proxy:!0}],null,!0),model:{value:t.paraConfig.DataSourceVars[a].DataSourceName,callback:function(n){t.$set(t.paraConfig.DataSourceVars[a],"DataSourceName",n)},expression:"paraConfig.DataSourceVars[ind].DataSourceName"}}),e("div",{staticClass:"col-2 row"},[e("div",{staticClass:"col-1",staticStyle:{"margin-left":"20px"}},[e("q-icon",{staticStyle:{display:"block"},attrs:{name:"ion-arrow-up"},on:{click:function(n){return t.moveUpList("DataSourceVars",a)}}}),e("q-icon",{staticStyle:{display:"block","margin-top":"10px"},attrs:{name:"ion-arrow-down"},on:{click:function(n){return t.moveDownList("DataSourceVars",a)}}})],1),e("q-btn",{staticClass:"btn col-4",staticStyle:{background:"#FF0000",color:"white","margin-left":"20px",display:"inline-block"},attrs:{label:"删 除"},on:{click:function(n){return t.deleteDataVars("DataSource",a)}}})],1)],1)])})),1)],1)],1),e("q-expansion-item",{staticStyle:{"text-align":"left",position:"relative"},attrs:{label:"连接初始化","expand-icon-toggle":"","expand-separator":""},scopedSlots:t._u([{key:"header",fn:function(){return[e("q-item-section",[t._v(" 连接初始化 ")]),e("q-item-section",{attrs:{side:""}},[e("div",{staticClass:"row items-center"},[e("q-btn",{staticClass:"btn ",staticStyle:{margin:"0px 0px 0px 20px"},attrs:{color:"primary",label:"添加初始化参数"},on:{click:function(n){return t.addDataVars("ConnectInit")}}})],1)])]},proxy:!0}]),model:{value:t.ConnectInitExpanded,callback:function(n){t.ConnectInitExpanded=n},expression:"ConnectInitExpanded"}},[e("q-card",[e("q-card-section",{directives:[{name:"show",rawName:"v-show",value:0==t.paraConfig.ConnectInit.VarSettings.length,expression:"paraConfig.ConnectInit.VarSettings.length==0"}]},[t._v("暂无参数配置，请点击添加初始化参数按钮进行添加。")]),e("transition-group",{attrs:{name:"MoveList"}},t._l(t.paraConfig.ConnectInit.VarSettings,(function(n,a){return e("q-card-section",{key:a},[e("span",{staticStyle:{"font-size":"14px"}},[t._v("参数"+t._s(a+1)+":")]),e("div",{staticClass:"row"},[e("q-input",{staticClass:"col-5",attrs:{filled:"",dense:!0},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px",width:"100px"}},[t._v("名称:")])]},proxy:!0}],null,!0),model:{value:t.paraConfig.ConnectInit.VarSettings[a].Name,callback:function(n){t.$set(t.paraConfig.ConnectInit.VarSettings[a],"Name",n)},expression:"paraConfig.ConnectInit.VarSettings[ind].Name"}}),e("q-input",{staticClass:"col-5",attrs:{filled:"",dense:!0},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px",width:"80px","margin-left":"10px"}},[t._v("内容:")])]},proxy:!0}],null,!0),model:{value:t.paraConfig.ConnectInit.VarSettings[a].Content,callback:function(n){t.$set(t.paraConfig.ConnectInit.VarSettings[a],"Content",n)},expression:"paraConfig.ConnectInit.VarSettings[ind].Content"}}),e("div",{staticClass:"col-2 row"},[e("div",{staticClass:"col-1",staticStyle:{"margin-left":"20px"}},[e("q-icon",{staticStyle:{display:"block"},attrs:{name:"ion-arrow-up"},on:{click:function(n){return t.moveUpList("ConnectInit",a)}}}),e("q-icon",{staticStyle:{display:"block","margin-top":"10px"},attrs:{name:"ion-arrow-down"},on:{click:function(n){return t.moveDownList("ConnectInit",a)}}})],1),e("q-btn",{staticClass:"btn col-4",staticStyle:{background:"#FF0000",color:"white","margin-left":"20px",display:"inline-block"},attrs:{label:"删 除"},on:{click:function(n){return t.deleteDataVars("ConnectInit",a)}}})],1)],1)])})),1)],1)],1),e("q-expansion-item",{staticStyle:{"text-align":"left",position:"relative"},attrs:{label:"发送初始化","expand-icon-toggle":"","expand-separator":""},scopedSlots:t._u([{key:"header",fn:function(){return[e("q-item-section",[t._v(" 发送初始化 ")]),e("q-item-section",{attrs:{side:""}},[e("div",{staticClass:"row items-center"},[e("q-btn",{staticClass:"btn ",staticStyle:{margin:"0px 0px 0px 20px"},attrs:{color:"primary",label:"添加初始化参数"},on:{click:function(n){return t.addDataVars("SendInit")}}})],1)])]},proxy:!0}]),model:{value:t.SendInitExpanded,callback:function(n){t.SendInitExpanded=n},expression:"SendInitExpanded"}},[e("q-card",[e("q-card-section",{directives:[{name:"show",rawName:"v-show",value:0==t.paraConfig.SendInit.VarSettings.length,expression:"paraConfig.SendInit.VarSettings.length==0"}]},[t._v("暂无参数配置，请点击添加初始化参数按钮进行添加。")]),e("transition-group",{attrs:{name:"MoveList"}},t._l(t.paraConfig.SendInit.VarSettings,(function(n,a){return e("q-card-section",{key:a},[e("span",{staticStyle:{"font-size":"14px"}},[t._v("参数"+t._s(a+1)+":")]),e("div",{staticClass:"row"},[e("q-input",{staticClass:"col-5",attrs:{filled:"",dense:!0},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px",width:"100px"}},[t._v("名称:")])]},proxy:!0}],null,!0),model:{value:t.paraConfig.SendInit.VarSettings[a].Name,callback:function(n){t.$set(t.paraConfig.SendInit.VarSettings[a],"Name",n)},expression:"paraConfig.SendInit.VarSettings[ind].Name"}}),e("q-input",{staticClass:"col-5",attrs:{filled:"",dense:!0},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px",width:"80px","margin-left":"10px"}},[t._v("内容:")])]},proxy:!0}],null,!0),model:{value:t.paraConfig.SendInit.VarSettings[a].Content,callback:function(n){t.$set(t.paraConfig.SendInit.VarSettings[a],"Content",n)},expression:"paraConfig.SendInit.VarSettings[ind].Content"}}),e("div",{staticClass:"col-2 row"},[e("div",{staticClass:"col-1",staticStyle:{"margin-left":"20px"}},[e("q-icon",{staticStyle:{display:"block"},attrs:{name:"ion-arrow-up"},on:{click:function(n){return t.moveUpList("SendInit",a)}}}),e("q-icon",{staticStyle:{display:"block","margin-top":"10px"},attrs:{name:"ion-arrow-down"},on:{click:function(n){return t.moveDownList("SendInit",a)}}})],1),e("q-btn",{staticClass:"btn col-4",staticStyle:{background:"#FF0000",color:"white","margin-left":"20px",display:"inline-block"},attrs:{label:"删 除"},on:{click:function(n){return t.deleteDataVars("SendInit",a)}}})],1)],1)])})),1)],1)],1),e("q-expansion-item",{staticStyle:{"text-align":"left",position:"relative"},attrs:{label:"停止初始化","expand-icon-toggle":"","expand-separator":""},scopedSlots:t._u([{key:"header",fn:function(){return[e("q-item-section",[t._v(" 停止初始化 ")]),e("q-item-section",{attrs:{side:""}},[e("div",{staticClass:"row items-center"},[e("q-btn",{staticClass:"btn ",staticStyle:{margin:"0px 0px 0px 20px"},attrs:{color:"primary",label:"添加初始化参数"},on:{click:function(n){return t.addDataVars("StopInit")}}})],1)])]},proxy:!0}]),model:{value:t.StopInitExpanded,callback:function(n){t.StopInitExpanded=n},expression:"StopInitExpanded"}},[e("q-card",[e("q-card-section",{directives:[{name:"show",rawName:"v-show",value:0==t.paraConfig.StopInit.VarSettings.length,expression:"paraConfig.StopInit.VarSettings.length==0"}]},[t._v("暂无参数配置，请点击添加初始化参数按钮进行添加。")]),e("transition-group",{attrs:{name:"MoveList"}},t._l(t.paraConfig.StopInit.VarSettings,(function(n,a){return e("q-card-section",{key:a},[e("span",{staticStyle:{"font-size":"14px"}},[t._v("参数"+t._s(a+1)+":")]),e("div",{staticClass:"row"},[e("q-input",{staticClass:"col-5",attrs:{filled:"",dense:!0},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px",width:"100px"}},[t._v("名称:")])]},proxy:!0}],null,!0),model:{value:t.paraConfig.StopInit.VarSettings[a].Name,callback:function(n){t.$set(t.paraConfig.StopInit.VarSettings[a],"Name",n)},expression:"paraConfig.StopInit.VarSettings[ind].Name"}}),e("q-input",{staticClass:"col-5",attrs:{filled:"",dense:!0},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticStyle:{"font-size":"14px",width:"80px","margin-left":"10px"}},[t._v("内容:")])]},proxy:!0}],null,!0),model:{value:t.paraConfig.StopInit.VarSettings[a].Content,callback:function(n){t.$set(t.paraConfig.StopInit.VarSettings[a],"Content",n)},expression:"paraConfig.StopInit.VarSettings[ind].Content"}}),e("div",{staticClass:"col-2 row"},[e("div",{staticClass:"col-1",staticStyle:{"margin-left":"20px"}},[e("q-icon",{staticStyle:{display:"block"},attrs:{name:"ion-arrow-up"},on:{click:function(n){return t.moveUpList("StopInit",a)}}}),e("q-icon",{staticStyle:{display:"block","margin-top":"10px"},attrs:{name:"ion-arrow-down"},on:{click:function(n){return t.moveDownList("StopInit",a)}}})],1),e("q-btn",{staticClass:"btn col-4",staticStyle:{background:"#FF0000",color:"white","margin-left":"20px",display:"inline-block"},attrs:{label:"删 除"},on:{click:function(n){return t.deleteDataVars("StopInit",a)}}})],1)],1)])})),1)],1)],1)],1),e("q-list",{attrs:{bordered:""}},[e("q-expansion-item",{staticStyle:{"text-align":"left",position:"relative"},attrs:{label:"数据源","expand-icon-toggle":"","expand-separator":""},scopedSlots:t._u([{key:"header",fn:function(){return[e("q-item-section",[t._v(" 配置文本: ")]),e("q-item-section",{attrs:{side:""}},[e("q-btn",{staticClass:"btn",staticStyle:{margin:"10px 0 10px 20px",float:"right"},attrs:{color:"primary",label:"生 成"},on:{click:t.CreateJson}})],1)]},proxy:!0}]),model:{value:t.ConfigTextExpanded,callback:function(n){t.ConfigTextExpanded=n},expression:"ConfigTextExpanded"}},[e("q-card",[e("div",{staticClass:"row input_row"},[e("q-input",{staticClass:"col-12",staticStyle:{overflow:"hidden"},attrs:{dense:!1,autogrow:"",type:"textarea",outlined:""},model:{value:t.Configuration,callback:function(n){t.Configuration=n},expression:"Configuration"}})],1)])],1)],1)],1)],1)},i=[],o=(e("a434"),e("b0c0"),e("a9e3"),e("ac1f"),e("5319"),e("498a"),e("53ca")),s=e("7729"),r={name:"CreateShowTestCase",props:["masterHostList","dataSourceName","detailData"],components:{lookUp:s["a"]},watch:{detailData:function(t){t&&(console.log(t),this.Name=t.name,this.paraConfig=JSON.parse(t.configuration),this.paraConfig.IsPrintLog=1==this.paraConfig.IsPrintLog?"是":"否",this.EngineType=t.engineType,this.Configuration=JSON.stringify(JSON.parse(t.configuration),null,2),this.masterHostSelect=t.masterHostAddress,this.MasterHostID=t.masterHostID)},dataSourceName:function(t){if(console.log(t),t)for(var n=0;n<t.length;n++)this.dataSource.push(t[n].name)}},mounted:function(){for(var t=0;t<this.dataSourceName.length;t++)this.dataSource.push(this.dataSourceName[t].name)},data:function(){return{HostFixed:!1,masterHostSelect:"",masterHostIndex:-1,dataSource:[],Name:"",Configuration:"",EngineType:"",MasterHostID:"",paraConfig:{UserCount:"",PerSecondUserCount:"",Address:"",Port:"",Duration:"",ResponseSeparator:"",DataSourceVars:[],IsPrintLog:"否",ConnectInit:{VarSettings:[]},SendInit:{VarSettings:[]},StopInit:{VarSettings:[]}},PrintLogOptions:[{label:"是",value:!0},{label:"否",value:!1}],DataSourceExpanded:!1,ConnectInitExpanded:!1,SendInitExpanded:!1,StopInitExpanded:!1,ConfigTextExpanded:!1}},methods:{masterHost:function(){this.HostFixed=!0},addMasterHost:function(t){if(void 0==t)return!1;this.masterHostSelect=this.masterHostList[t].address,this.MasterHostID=this.masterHostList[t].id,this.masterHostIndex=t,this.createFixed=!0,this.HostFixed=!1},cancelMasterHost:function(){this.createFixed=!0,this.HostFixed=!1,this.$refs.lookUp.selectIndex=this.masterHostIndex},newCancel:function(){this.Name="",this.Configuration="",this.EngineType="",this.MasterHostID="",this.masterHostSelect="",this.$refs.lookUp.selectIndex=-1,this.paraConfig={UserCount:"",PerSecondUserCount:"",Address:"",Port:"",Duration:"",ResponseSeparator:"",DataSourceVars:[],ConnectInit:{VarSettings:[]},SendInit:{VarSettings:[]},StopInit:{VarSettings:[]}}},newCreate:function(){var t={Name:this.Name,Configuration:this.Configuration.trim(),EngineType:this.EngineType,MasterHostID:this.MasterHostID};return console.log(t),this.Name&&this.isJSON(this.Configuration)&&this.EngineType&&this.MasterHostID?t:(""==this.Name?this.$q.notify({position:"top",message:"提示",caption:"请填写名称",color:"red"}):""==this.EngineType?this.$q.notify({position:"top",message:"提示",caption:"请填选择引擎类型",color:"red"}):""==this.MasterHostID&&this.$q.notify({position:"top",message:"提示",caption:"请选择主机",color:"red"}),!1)},CreateJson:function(){if(""==this.Configuration.trim()){if(!this.isValidIp(this.paraConfig.Address))return;if(!this.isPort(this.paraConfig.Port))return;if(!this.ifDataVars())return;console.log(this.paraConfig.IsPrintLog),this.Configuration=JSON.stringify({UserCount:Number(this.paraConfig.UserCount),PerSecondUserCount:Number(this.paraConfig.PerSecondUserCount),Address:this.paraConfig.Address,Port:Number(this.paraConfig.Port),Duration:Number(this.paraConfig.Duration),ResponseSeparator:this.paraConfig.ResponseSeparator,DataSourceVars:this.paraConfig.DataSourceVars,IsPrintLog:1==this.paraConfig.IsPrintLog||"是"==this.paraConfig.IsPrintLog,ConnectInit:{VarSettings:this.paraConfig.ConnectInit.VarSettings},SendInit:{VarSettings:this.paraConfig.SendInit.VarSettings},StopInit:{VarSettings:this.paraConfig.StopInit.VarSettings}},null,2),this.ConfigTextExpanded=!0}else if(this.isJSON(this.Configuration.trim())){if(!this.isValidIp(this.paraConfig.Address))return;if(!this.isPort(this.paraConfig.Port))return;if(!this.ifDataVars())return;this.Configuration=JSON.parse(this.Configuration),this.Configuration.UserCount=Number(this.paraConfig.UserCount),this.Configuration.PerSecondUserCount=Number(this.paraConfig.PerSecondUserCount),this.Configuration.Address=this.paraConfig.Address,this.Configuration.Port=Number(this.paraConfig.Port),this.Configuration.Duration=Number(this.paraConfig.Duration),this.Configuration.ResponseSeparator=this.paraConfig.ResponseSeparator,this.Configuration.DataSourceVars=this.paraConfig.DataSourceVars,this.Configuration.IsPrintLog=1==this.paraConfig.IsPrintLog,this.Configuration.ConnectInit.VarSettings=this.paraConfig.ConnectInit.VarSettings,this.Configuration.SendInit.VarSettings=this.paraConfig.SendInit.VarSettings,this.Configuration.StopInit.VarSettings=this.paraConfig.StopInit.VarSettings,this.Configuration=JSON.stringify(this.Configuration,null,2),this.ConfigTextExpanded=!0}},isJSON:function(t){if("string"==typeof t)try{var n=JSON.parse(t);if("object"==Object(o["a"])(n)&&n){if("{"==t.substr(0,1)&&"}"==t.substr(-1))return!0;this.$q.notify({position:"top",message:"提示",caption:"配置不是正确的JSON格式",color:"red"})}else this.$q.notify({position:"top",message:"提示",caption:"配置不是正确的JSON格式",color:"red"})}catch(e){this.$q.notify({position:"top",message:"提示",caption:"配置不是正确的JSON格式",color:"red"})}},isValidIp:function(t){return console.log(t),""==t||(!!/^((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)$/.test(t)||(this.$q.notify({position:"top",message:"提示",caption:"被测服务器ip地址不正确",color:"red"}),!1))},isPort:function(t){return""==t||(!!(/^[1-9]\d*$/.test(t)&&1<=1*t&&1*t<=65535)||(this.$q.notify({position:"top",message:"提示",caption:"被测服务器端口不符合范围：0-65535",color:"red"}),!1))},ifRegular:function(t,n){var e=this;this.$nextTick((function(){if("Port"==t){var a=n.replace(/[^\d]/g,"");e.$set(e.paraConfig,t,a>65535?65535:a)}else e.$set(e.paraConfig,t,n.replace(/[^\d]/g,"").replace(/^0/g,""))}))},ifDataVars:function(){for(var t=0;t<this.paraConfig.DataSourceVars.length;t++){var n=this.paraConfig.DataSourceVars[t];if(console.log(n),""==n.Name||""==n.DataSourceName)return this.$q.notify({position:"top",message:"提示",caption:"数据源参数".concat(t+1,"名称和数据源名称为必填"),color:"red"}),!1}for(var e=0;e<this.paraConfig.ConnectInit.VarSettings.length;e++){var a=this.paraConfig.ConnectInit.VarSettings[e];if(console.log(a),""==a.Content)return this.$q.notify({position:"top",message:"提示",caption:"连接初始化参数".concat(e+1,"内容为必填"),color:"red"}),!1}for(var i=0;i<this.paraConfig.SendInit.VarSettings.length;i++){var o=this.paraConfig.SendInit.VarSettings[i];if(console.log(o),""==o.Content)return this.$q.notify({position:"top",message:"提示",caption:"发送初始化参数".concat(i+1,"内容为必填"),color:"red"}),!1}for(var s=0;s<this.paraConfig.StopInit.VarSettings.length;s++){var r=this.paraConfig.StopInit.VarSettings[s];if(console.log(r),""==r.Content)return this.$q.notify({position:"top",message:"提示",caption:"停止初始化参数".concat(s+1,"内容为必填"),color:"red"}),!1}return!0},addDataVars:function(t){"DataSource"==t?(this.paraConfig.DataSourceVars.push({Name:"",Type:"",DataSourceName:"",Data:""}),this.DataSourceExpanded=!0):"ConnectInit"==t?(this.paraConfig.ConnectInit.VarSettings.push({Name:"",Content:""}),this.ConnectInitExpanded=!0):"SendInit"==t?(this.paraConfig.SendInit.VarSettings.push({Name:"",Content:""}),this.SendInitExpanded=!0):"StopInit"==t&&(this.paraConfig.StopInit.VarSettings.push({Name:"",Content:""}),this.StopInitExpanded=!0)},deleteDataVars:function(t,n){var e=this;this.$q.dialog({title:"提示",message:"您确定要删除当前参数".concat(n+1,"吗"),persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(){"DataSource"==t?e.paraConfig.DataSourceVars.splice(n,1):"ConnectInit"==t?e.paraConfig.ConnectInit.VarSettings.splice(n,1):"SendInit"==t?e.paraConfig.SendInit.VarSettings.splice(n,1):"StopInit"==t&&e.paraConfig.StopInit.VarSettings.splice(n,1)}))},moveUpList:function(t,n){"DataSourceVars"==t&&0!=n?this.paraConfig.DataSourceVars[n]=this.paraConfig.DataSourceVars.splice(n-1,1,this.paraConfig.DataSourceVars[n])[0]:"ConnectInit"==t&&0!=n?this.paraConfig.ConnectInit.VarSettings[n]=this.paraConfig.ConnectInit.VarSettings.splice(n-1,1,this.paraConfig.ConnectInit.VarSettings[n])[0]:"SendInit"==t&&0!=n?this.paraConfig.SendInit.VarSettings[n]=this.paraConfig.SendInit.VarSettings.splice(n-1,1,this.paraConfig.SendInit.VarSettings[n])[0]:"StopInit"==t&&0!=n&&(this.paraConfig.StopInit.VarSettings[n]=this.paraConfig.StopInit.VarSettings.splice(n-1,1,this.paraConfig.StopInit.VarSettings[n])[0])},moveDownList:function(t,n){"DataSourceVars"==t&&n<this.paraConfig.DataSourceVars.length-1?this.paraConfig.DataSourceVars[n]=this.paraConfig.DataSourceVars.splice(n+1,1,this.paraConfig.DataSourceVars[n])[0]:"ConnectInit"==t&&n<this.ConnectInit.VarSettings.length.length-1?this.paraConfig.ConnectInit.VarSettings[n]=this.paraConfig.ConnectInit.VarSettings.splice(n+1,1,this.paraConfig.ConnectInit.VarSettings[n])[0]:"SendInit"==t&&n<this.SendInit.VarSettings.length.length-1?this.paraConfig.SendInit.VarSettings[n]=this.paraConfig.SendInit.VarSettings.splice(n+1,1,this.paraConfig.SendInit.VarSettings[n])[0]:"StopInit"==t&&n<this.paraConfig.StopInit.VarSettings.length.length-1&&(this.paraConfig.StopInit.VarSettings[n]=this.paraConfig.StopInit.VarSettings.splice(n+1,1,this.paraConfig.StopInit.VarSettings[n])[0])}}},c=r,p=(e("f939"),e("2877")),l=Object(p["a"])(c,a,i,!1,null,null,null);n["a"]=l.exports},4081:function(t,n,e){},7729:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("q-dialog",{attrs:{persistent:""},model:{value:t.fixed,callback:function(n){t.fixed=n},expression:"fixed"}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v("主机列表")])]),e("q-separator"),e("div",{staticClass:"new_input"},t._l(t.masterHostList,(function(n,a){return e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{tag:"label"}},[e("q-item-section",{attrs:{avatar:""}},[e("q-radio",{attrs:{val:a,color:"teal"},model:{value:t.selectIndex,callback:function(n){t.selectIndex=n},expression:"selectIndex"}})],1),e("q-item-section",[e("q-item-label",[t._v(t._s(n.address))])],1)],1)})),1),e("q-separator"),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:t.cancel}}),e("q-btn",{attrs:{flat:"",label:"添加",color:"primary"},on:{click:t.confirm}})],1)],1)],1)},i=[],o={props:["fixed","masterHostList","masterSelectIndex"],name:"lookUp",data:function(){return{selectIndex:-1}},watch:{masterSelectIndex:function(t){this.selectIndex=t}},methods:{confirm:function(){this.$emit("addMasterHost",this.selectIndex)},cancel:function(){this.$emit("cancelMasterHost")}}},s=o,r=e("2877"),c=Object(r["a"])(s,a,i,!1,null,"24a28892",null);n["a"]=c.exports},f939:function(t,n,e){"use strict";var a=e("4081"),i=e.n(a);i.a}}]);
//# sourceMappingURL=chunk-2544e2cc.bbbe075b.js.map