(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9013f130"],{"0442":function(t,e,s){},"1d47":function(t,e,s){"use strict";var a=s("0442"),n=s.n(a);n.a},5954:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"TestCase"},[s("div",{staticClass:"q-pa-md"},[s("q-table",{attrs:{title:"测试用例列表",data:t.TestCaseList,columns:t.columns,"row-key":"id","rows-per-page-options":[0],"no-data-label":"暂无数据更新"},scopedSlots:t._u([{key:"top-right",fn:function(){return[s("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"新 增"},on:{click:t.openCrateTestCase}})]},proxy:!0},{key:"bottom",fn:function(){return[s("q-pagination",{staticClass:"col offset-md-10",attrs:{max:t.pagination.rowsNumber,input:!0},on:{input:t.nextPage},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})]},proxy:!0},{key:"body-cell-id",fn:function(e){return[s("q-td",{attrs:{props:e}},[s("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"更 新"},on:{click:function(s){return t.toDetail(e)}}}),s("q-btn",{staticClass:"btn",staticStyle:{background:"#FF0000",color:"white"},attrs:{label:"删 除"},on:{click:function(s){return t.deleteTestCase(e)}}})],1)]}}])})],1),s("lookUp",{ref:"lookUp",attrs:{masterHostList:t.masterHostList,masterSelectIndex:t.masterHostIndex,fixed:t.HostFixed},on:{addMasterHost:t.addMasterHost,cancelMasterHost:t.cancelMasterHost}}),s("q-dialog",{attrs:{persistent:""},model:{value:t.createFixed,callback:function(e){t.createFixed=e},expression:"createFixed"}},[s("q-card",{staticStyle:{width:"100%"}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v("创建测试用例")])]),s("q-separator"),s("div",{staticClass:"new_input"},[s("div",{staticClass:"row input_row"},[s("q-input",{staticClass:"col",attrs:{dense:!1},scopedSlots:t._u([{key:"before",fn:function(){return[s("span",{staticStyle:{"font-size":"14px"}},[t._v("名称:")])]},proxy:!0}]),model:{value:t.Name,callback:function(e){t.Name=e},expression:"Name"}}),s("q-select",{staticClass:"col",attrs:{options:["Http","Tcp"],dense:!1},scopedSlots:t._u([{key:"before",fn:function(){return[s("span",{staticStyle:{"font-size":"14px"}},[t._v("引擎类型:")])]},proxy:!0},{key:"prepend",fn:function(){},proxy:!0}]),model:{value:t.EngineType,callback:function(e){t.EngineType=e},expression:"EngineType"}})],1),s("div",{staticClass:"row input_row"},[s("q-input",{staticClass:"col col-xs-12",attrs:{dense:!1,readonly:""},on:{dblclick:t.masterHost},scopedSlots:t._u([{key:"before",fn:function(){return[s("span",{staticStyle:{"font-size":"14px"}},[t._v("主机:")])]},proxy:!0}]),model:{value:t.masterHostSelect,callback:function(e){t.masterHostSelect=e},expression:"masterHostSelect"}})],1),s("div",{staticClass:"row input_row"},[s("q-input",{staticClass:"col-xs-12",attrs:{dense:!1,type:"textarea",outlined:""},scopedSlots:t._u([{key:"before",fn:function(){return[s("span",{staticStyle:{"font-size":"14px"}},[t._v("配置:")])]},proxy:!0}]),model:{value:t.Configuration,callback:function(e){t.Configuration=e},expression:"Configuration"}})],1)]),s("q-separator"),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:t.newCancel}}),s("q-btn",{attrs:{flat:"",label:"创建",color:"primary"},on:{click:t.newCreate}})],1)],1)],1)],1)},n=[],i=(s("b0c0"),s("365c")),o=s("7729"),r={name:"TestCase",components:{lookUp:o["a"]},data:function(){return{createFixed:!1,HostFixed:!1,TestCaseList:[],masterHostList:[],masterHostSelect:"",masterHostIndex:-1,Name:"",Configuration:"",EngineType:"",MasterHostID:"",selected:[],columns:[{name:"name",required:!0,label:"名称",align:"left",field:function(t){return t.name},format:function(t){return"".concat(t)}},{name:"engineType",align:"left",label:"引擎类型",field:"engineType"},{name:"configuration",label:"配置",align:"left",field:"configuration"},{name:"id",label:"操作",align:"left",field:"id"}],pagination:{page:1,rowsNumber:1}}},mounted:function(){this.getTestCaseList()},methods:{openCrateTestCase:function(){this.createFixed=!0},getMasterHostList:function(){var t=this;i["n"]().then((function(e){console.log(e),t.masterHostList=e.data,t.$q.loading.hide()}))},getTestCaseList:function(t){var e=this;this.$q.loading.show();var s={matchName:"",page:t||1};i["v"](s).then((function(s){console.log(s),e.TestCaseList=s.data.results,e.pagination.page=t||1,e.pagination.rowsNumber=Math.ceil(s.data.totalCount/50),e.getMasterHostList()}))},nextPage:function(t){this.getTestCaseList(t)},deleteTestCase:function(t){var e=this;console.log(t),this.$q.dialog({title:"提示",message:"您确定要删除当前的测试用例吗",persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(){e.$q.loading.show();var s="?id=".concat(t.row.id);i["g"](s).then((function(t){console.log(t),e.getTestCaseList()}))})).onCancel((function(){}))},masterHost:function(){this.HostFixed=!0,this.createFixed=!1},addMasterHost:function(t){if(void 0==t)return!1;this.masterHostSelect=this.masterHostList[t].address,this.MasterHostID=this.masterHostList[t].id,this.masterHostIndex=t,this.createFixed=!0,this.HostFixed=!1},cancelMasterHost:function(){this.createFixed=!0,this.HostFixed=!1,this.$refs.lookUp.selectIndex=this.masterHostIndex},newCancel:function(){this.Name="",this.Configuration="",this.EngineType="",this.MasterHostID="",this.masterHostSelect="",this.$refs.lookUp.selectIndex=-1,this.createFixed=!1},newCreate:function(){var t=this,e={Name:this.Name,Configuration:this.Configuration,EngineType:this.EngineType,MasterHostID:this.MasterHostID};this.Name&&this.Configuration&&this.EngineType&&this.MasterHostID?(this.$q.loading.show(),i["D"](e).then((function(e){console.log(e),t.getTestCaseList(),t.createFixed=!1,t.$q.notify({position:"top",message:"提示",caption:"创建成功",color:"secondary"}),t.Name="",t.Configuration="",t.EngineType="",t.MasterHostID="",t.masterHostSelect="",t.$refs.lookUp.selectIndex=-1}))):this.$q.notify({position:"top",message:"提示",caption:"请填写完整信息",color:"red"})},toDetail:function(t){this.$router.push({name:"TestCaseDetail",query:{id:t.row.id}})}}},c=r,l=(s("9906"),s("1d47"),s("2877")),d=Object(l["a"])(c,a,n,!1,null,"0ecc1080",null);e["default"]=d.exports},"678f":function(t,e,s){},7729:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{attrs:{persistent:""},model:{value:t.fixed,callback:function(e){t.fixed=e},expression:"fixed"}},[s("q-card",[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v("主机列表")])]),s("q-separator"),s("div",{staticClass:"new_input"},t._l(t.masterHostList,(function(e,a){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{tag:"label"}},[s("q-item-section",{attrs:{avatar:""}},[s("q-radio",{attrs:{val:a,color:"teal"},model:{value:t.selectIndex,callback:function(e){t.selectIndex=e},expression:"selectIndex"}})],1),s("q-item-section",[s("q-item-label",[t._v(t._s(e.address))])],1)],1)})),1),s("q-separator"),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",label:"取消",color:"primary"},on:{click:t.cancel}}),s("q-btn",{attrs:{flat:"",label:"添加",color:"primary"},on:{click:t.confirm}})],1)],1)],1)},n=[],i={props:["fixed","masterHostList","masterSelectIndex"],name:"lookUp",data:function(){return{selectIndex:-1}},watch:{masterSelectIndex:function(t){this.selectIndex=t}},methods:{confirm:function(){this.$emit("addMasterHost",this.selectIndex)},cancel:function(){this.$emit("cancelMasterHost")}}},o=i,r=s("2877"),c=Object(r["a"])(o,a,n,!1,null,"24a28892",null);e["a"]=c.exports},9906:function(t,e,s){"use strict";var a=s("678f"),n=s.n(a);n.a}}]);
//# sourceMappingURL=chunk-9013f130.385ae51f.js.map