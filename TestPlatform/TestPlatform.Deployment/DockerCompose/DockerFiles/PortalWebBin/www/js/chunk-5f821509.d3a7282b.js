(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f821509"],{"1a8e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("div",{staticClass:"detail_header"},[a("q-btn",{staticClass:"btn",attrs:{color:"primary",label:"保 存"},on:{click:t.putTestDataSource}}),a("q-btn",{staticClass:"btn",staticStyle:{background:"#FF0000",color:"white"},attrs:{label:"删 除"},on:{click:t.deleteTestDataSource}})],1),a("div",{staticClass:"q-pa-md row"},[a("div",{staticClass:"new_input"},[a("div",{staticClass:"row input_row"},[a("q-input",{staticClass:"col",attrs:{dense:!1},scopedSlots:t._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[t._v("名称:")])]},proxy:!0}]),model:{value:t.Name,callback:function(e){t.Name=e},expression:"Name"}}),a("q-select",{staticClass:"col",attrs:{options:["String","Int","Json","Label"],dense:!1},scopedSlots:t._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[t._v("类型:")])]},proxy:!0},{key:"prepend",fn:function(){},proxy:!0}]),model:{value:t.Type,callback:function(e){t.Type=e},expression:"Type"}})],1),a("div",{staticClass:"row input_row"},[a("q-input",{staticClass:"col-xs-12",attrs:{dense:!1,type:"textarea",autogrow:"",outlined:""},scopedSlots:t._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[t._v("数据:")])]},proxy:!0}]),model:{value:t.Data,callback:function(e){t.Data=e},expression:"Data"}})],1)])])])},i=[],o=(a("b0c0"),a("a9e3"),a("498a"),a("53ca")),n=a("365c"),c={name:"TestCaseDetail",data:function(){return{TestDataSourceDetail:"",Id:"",Name:"",Type:"",Data:""}},mounted:function(){this.Id=this.$route.query.id,this.getTestDataSourceDetail()},methods:{getTestDataSourceDetail:function(){var t=this;this.$q.loading.show();var e={id:this.Id};n["y"](e).then((function(e){console.log(e),t.TestDataSourceDetail=e.data,t.Name=e.data.name,t.Type=e.data.type,t.Data=e.data.data,t.$q.loading.hide()}))},putTestDataSource:function(){var t=this,e={ID:this.Id,Name:this.Name,Type:this.Type,Data:this.Data.trim()};if(this.Id&&this.Name&&this.Type&&this.Data.trim()){if(!this.isDataType(this.Type))return;this.$q.loading.show(),n["L"](e).then((function(e){console.log(e),t.getTestDataSourceDetail(),t.$q.notify({position:"top",message:"提示",caption:"保存成功",color:"secondary"})}))}else this.$q.notify({position:"top",message:"提示",caption:"请填写完整信息",color:"red"})},deleteTestDataSource:function(){var t=this;this.$q.dialog({title:"提示",message:"您确定要删除当前的测试数据源吗",persistent:!0,ok:{push:!0,label:"确定"},cancel:{push:!0,label:"取消"}}).onOk((function(){t.$q.loading.show();var e="?id=".concat(t.Id);n["g"](e).then((function(){t.$router.push({name:"TestDataSource"})}))}))},isDataType:function(t){return"Int"==t?!!Number(this.Data.trim())||(this.$q.notify({position:"top",message:"提示",caption:"当前数据不是Int类型",color:"red"}),!1):"Json"==t?!!this.isJSON(this.Data.trim()):void 0},isJSON:function(t){if("string"==typeof t)try{var e=JSON.parse(t);if("object"==Object(o["a"])(e)&&null!=e)return!0;this.$q.notify({position:"top",message:"提示",caption:"配置不是正确的JSON格式",color:"red"})}catch(a){this.$q.notify({position:"top",message:"提示",caption:"配置不是正确的JSON格式",color:"red"})}}}},r=c,l=(a("d7fc"),a("653f"),a("2877")),u=Object(l["a"])(r,s,i,!1,null,"12461fc0",null);e["default"]=u.exports},"32af":function(t,e,a){},"653f":function(t,e,a){"use strict";var s=a("32af"),i=a.n(s);i.a},"772b":function(t,e,a){},d7fc:function(t,e,a){"use strict";var s=a("772b"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-5f821509.d3a7282b.js.map